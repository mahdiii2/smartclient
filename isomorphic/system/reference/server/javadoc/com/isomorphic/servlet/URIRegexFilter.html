<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>URIRegexFilter (SmartClient Enterprise Server API 14.1p (2025-06-14))</title> <meta name="date" content="2025-06-14"> <link rel="stylesheet" type="text/css" href="../../../stylesheet_custom.css" title="Style"> <script type="text/javascript" src="../../../script.js"></script> </head> <body> <script type="text/javascript">try{if(location.href.indexOf("is-external=true")==-1){parent.document.title="URIRegexFilter (SmartClient Enterprise Server API 14.1p (2025-06-14))"}}catch(err){}var methods={i0:10};var tabs={65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};var altColor="altColor";var rowColor="rowColor";var tableTab="tableTab";var activeTableTab="activeTableTab";</script> <noscript> <div>JavaScript is disabled on your browser.</div> </noscript> <div class="topNav"><a name="navbar.top"> </a> <div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div> <a name="navbar.top.firstrow"> </a> <ul class="navList" title="Navigation"> <li><a href="../../../overview-summary.html">Overview</a></li> <li><a href="package-summary.html">Package</a></li> <li class="navBarCell1Rev">Class</li> <li><a href="package-tree.html">Tree</a></li> <li><a href="../../../deprecated-list.html">Deprecated</a></li> <li><a href="../../../index-all.html">Index</a></li> <li><a href="../../../help-doc.html">Help</a></li> </ul> </div> <div class="subNav"> <ul class="navList"> <li><a href="../../../com/isomorphic/servlet/ScreenLoaderServlet.html" title="class in com.isomorphic.servlet"><span class="typeNameLink">Prev&nbsp;Class</span></a></li> <li><a href="../../../com/isomorphic/servlet/VersionedURLFilter.html" title="class in com.isomorphic.servlet"><span class="typeNameLink">Next&nbsp;Class</span></a></li> </ul> <ul class="navList"> <li><a href="../../../index.html?com/isomorphic/servlet/URIRegexFilter.html" target="_top">Frames</a></li> <li><a href="URIRegexFilter.html" target="_top">No&nbsp;Frames</a></li> </ul> <ul class="navList" id="allclasses_navbar_top"> <li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li> </ul> <div> <script type="text/javascript">allClassesLink=document.getElementById("allclasses_navbar_top");if(window==top){allClassesLink.style.display="block"}else{allClassesLink.style.display="none"};</script> </div> <div> <ul class="subNavList"> <li>Summary:&nbsp;</li> <li>Nested&nbsp;|&nbsp;</li> <li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li> <li>Constr&nbsp;|&nbsp;</li> <li><a href="#method.summary">Method</a></li> </ul> <ul class="subNavList"> <li>Detail:&nbsp;</li> <li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li> <li>Constr&nbsp;|&nbsp;</li> <li><a href="#method.detail">Method</a></li> </ul> </div> <a name="skip.navbar.top"> </a></div> <div class="header"> <div class="subTitle">com.isomorphic.servlet</div> <h2 title="Class URIRegexFilter" class="title">Class URIRegexFilter</h2> </div> <div class="contentContainer"> <ul class="inheritance"> <li>java.lang.Object</li> <li> <ul class="inheritance"> <li><a href="../../../com/isomorphic/servlet/BaseFilter.html" title="class in com.isomorphic.servlet">com.isomorphic.servlet.BaseFilter</a></li> <li> <ul class="inheritance"> <li>com.isomorphic.servlet.URIRegexFilter</li> </ul> </li> </ul> </li> </ul> <div class="description"> <ul class="blockList"> <li class="blockList"> <hr> <br> <pre>public class <span class="typeNameLabel">URIRegexFilter</span>
extends <a href="../../../com/isomorphic/servlet/BaseFilter.html" title="class in com.isomorphic.servlet">BaseFilter</a></pre> <div class="block">Most servlet containers do not allow filter registration based on Regex rules. This filter rectifies the problem. To use, register the filter to intercept /* or whatever slice of the URI space you want and provide a rules file either in web.xml (see the doc for the <code>rules</code> init-param) or in a seprate file referenced in web.xml via the <code>rulesFile</code> init-param. <p> Rules take the following form: <action>:<regular expression> <p> Where <action> is one of: <code>block, ignore, match</code> and the regular expression is one that is acceptable to the Java Pattern class. Rules are evaluated in the order they appear, and the first match wins. If no rules match, the outcome is determined by the value of <code>defaultAction</code>. Once the action is determined, one of the following methods is called: <ul> <li>matchedRule() - default imlementation calls through to one of the next three methods. This signature provides access to the RegexRules object. <li>block() - default implementation logs an INFO level message about the URL being blocked, and returns HTTP code 404 to the client - effectively disallowing access. <li>match() - default implementation has empty body - you would typically override this to do whatever your filter needs to do. <li>ignore() - default implementation calls chain.doFilter() - effectively passing through the request to the next filter/servlet in the chain.</div> </li> </ul> </div> <div class="summary"> <ul class="blockList"> <li class="blockList"> <ul class="blockList"> <li class="blockList"><a name="field.summary"> </a> <h3>Field Summary</h3> <table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation"> <caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption> <tr> <th class="colFirst" scope="col">Modifier and Type</th> <th class="colLast" scope="col">Field and Description</th> </tr> <tr class="altColor"> <td class="colFirst"><code>java.lang.String</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/servlet/URIRegexFilter.html#matchURI">matchURI</a></span></code> <div class="block">Controls the URI string against which matchese are performed.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>protected java.util.List</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/servlet/URIRegexFilter.html#rules">rules</a></span></code> <div class="block">You can specify the set of rules governing this filter as an init-param in web.xml.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>java.lang.String</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/servlet/URIRegexFilter.html#rulesFile">rulesFile</a></span></code> <div class="block">If specified, The filter uses the regex rules defined in this file.</div> </td> </tr> <tr class="rowColor"> <td class="colFirst"><code>int</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/servlet/URIRegexFilter.html#uriCacheSize">uriCacheSize</a></span></code> <div class="block">Specifies the size of the URICache.</div> </td> </tr> <tr class="altColor"> <td class="colFirst"><code>protected boolean</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/servlet/URIRegexFilter.html#useURICache">useURICache</a></span></code> <div class="block">This parameter controls whether the URICache is enabled or not.</div> </td> </tr> </table> </li> </ul> <ul class="blockList"> <li class="blockList"><a name="method.summary"> </a> <h3>Method Summary</h3> <table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation"> <caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption> <tr> <th class="colFirst" scope="col">Modifier and Type</th> <th class="colLast" scope="col">Method and Description</th> </tr> <tr id="i0" class="altColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/servlet/URIRegexFilter.html#matchedRule-com.isomorphic.util.RegexRule-ServletRequest-ServletResponse-FilterChain-">matchedRule</a></span>(<a href="../../../com/isomorphic/util/RegexRule.html" title="class in com.isomorphic.util">RegexRule</a>&nbsp;rule, ServletRequest&nbsp;req, ServletResponse&nbsp;res, FilterChain&nbsp;chain)</code> <div class="block">End user override point that provides the <code>RegexRule</code> object which allows you to inspect the action of the rule and the rule itself.</div> </td> </tr> </table> </li> </ul> </li> </ul> </div> <div class="details"> <ul class="blockList"> <li class="blockList"> <ul class="blockList"> <li class="blockList"><a name="field.detail"> </a> <h3>Field Detail</h3> <a name="useURICache"> </a> <ul class="blockList"> <li class="blockList"> <h4>useURICache</h4> <pre>protected&nbsp;boolean useURICache</pre> <div class="block">This parameter controls whether the URICache is enabled or not. <br><br> If this filter users regular expressions via the <code>rulesFile</code>, the URI Cache will cache the result of the application of relevant rules for any given URI. The URI Cache drastically speeds up subsequent rule applications at the cost of memory.<p> Note: the cache is automatically disabled if there are no rules to apply (<code>rulesFile</code> is unset this typically means the user is managing the mappings through web.xml).<p> Performance: The URI cache is an LRU Map. If you're using this filter on a large-scale site with a lot of unique URIs, you may want to tune its size via the <code>uriCacheSize</code> parameter to balance between memory usage and performance. Note that the memory usage problem can be exacerbated by crawlers if there are a log of directly-accessible unique URIs. Another thing you can do to help performance is reorder the regex rules in the config file to have the most-used/most-encompassing ones appear first to reduce the total number of regexes required per URI.</div> <dl> <dt><span class="seeLabel">See Also:</span></dt> <dd><a href="../../../com/isomorphic/servlet/URIRegexFilter.html#uriCacheSize"><code>URIRegexFilter.uriCacheSize</code></a></dd> </dl> </li> </ul> <a name="uriCacheSize"> </a> <ul class="blockList"> <li class="blockList"> <h4>uriCacheSize</h4> <pre>public&nbsp;int uriCacheSize</pre> <div class="block">Specifies the size of the URICache. Note that each filter definition will have its own URICache.</div> </li> </ul> <a name="matchURI"> </a> <ul class="blockList"> <li class="blockList"> <h4>matchURI</h4> <pre>public&nbsp;java.lang.String matchURI</pre> <div class="block">Controls the URI string against which matchese are performed. Valid values are "current" for the current requestURI and "initial" for the initial request URI. Default is "current".</div> </li> </ul> <a name="rulesFile"> </a> <ul class="blockList"> <li class="blockList"> <h4>rulesFile</h4> <pre>public&nbsp;java.lang.String rulesFile</pre> <div class="block">If specified, The filter uses the regex rules defined in this file. Alternatively you can use <code>rules</code> to specify the rules in web.xml. <p> The format of the rulesFile is a list of regular expressions in a JSON array, like this: <pre>
 var rules = [
    "block:/bar/.*",
    "ignore:/foo/.*",
    "match:.*",
 ];
 </pre> Note: The rulesFile path is treated as relative to webRoot.</div> <dl> <dt><span class="seeLabel">See Also:</span></dt> <dd><a href="../../../com/isomorphic/servlet/URIRegexFilter.html#rules"><code>URIRegexFilter.rules</code></a></dd> </dl> </li> </ul> <a name="rules"> </a> <ul class="blockListLast"> <li class="blockList"> <h4>rules</h4> <pre>protected&nbsp;java.util.List rules</pre> <div class="block">You can specify the set of rules governing this filter as an init-param in web.xml. The name of the param is <code>rules</code> and the value is a newline delimited list of rules. For example: <pre>
 &lt;filter&gt;
   &lt;filter-name&gt;CacheFilter&lt;/filter-name&gt;
   &lt;filter-class&gt;com.isomorphic.servlet.CacheFilter&lt;/filter-class&gt;
   &lt;init-param&gt;
       &lt;param-name&gt;rules&lt;/param-name&gt;
       &lt;param-value&gt;
           block:/foo
           match:zoo/bar
           ignore:/xxx
       &lt;/param-value&gt;
   &lt;/init-param&gt;
 &lt;/filter&gt;
 </pre></div> <dl> <dt><span class="seeLabel">See Also:</span></dt> <dd><a href="../../../com/isomorphic/servlet/URIRegexFilter.html#rulesFile"><code>URIRegexFilter.rulesFile</code></a></dd> </dl> </li> </ul> </li> </ul> <ul class="blockList"> <li class="blockList"><a name="method.detail"> </a> <h3>Method Detail</h3> <a name="matchedRule-com.isomorphic.util.RegexRule-ServletRequest-ServletResponse-FilterChain-"> </a> <ul class="blockListLast"> <li class="blockList"> <h4>matchedRule</h4> <pre>public&nbsp;void&nbsp;matchedRule(<a href="../../../com/isomorphic/util/RegexRule.html" title="class in com.isomorphic.util">RegexRule</a>&nbsp;rule,
                        ServletRequest&nbsp;req,
                        ServletResponse&nbsp;res,
                        FilterChain&nbsp;chain)
                 throws ServletException,
                        java.io.IOException</pre> <div class="block">End user override point that provides the <code>RegexRule</code> object which allows you to inspect the action of the rule and the rule itself.</div> <dl> <dt><span class="throwsLabel">Throws:</span></dt> <dd><code>ServletException</code></dd> <dd><code>java.io.IOException</code></dd> </dl> </li> </ul> </li> </ul> </li> </ul> </div> </div> <div class="bottomNav"><a name="navbar.bottom"> </a> <div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div> <a name="navbar.bottom.firstrow"> </a> <ul class="navList" title="Navigation"> <li><a href="../../../overview-summary.html">Overview</a></li> <li><a href="package-summary.html">Package</a></li> <li class="navBarCell1Rev">Class</li> <li><a href="package-tree.html">Tree</a></li> <li><a href="../../../deprecated-list.html">Deprecated</a></li> <li><a href="../../../index-all.html">Index</a></li> <li><a href="../../../help-doc.html">Help</a></li> </ul> </div> <div class="subNav"> <ul class="navList"> <li><a href="../../../com/isomorphic/servlet/ScreenLoaderServlet.html" title="class in com.isomorphic.servlet"><span class="typeNameLink">Prev&nbsp;Class</span></a></li> <li><a href="../../../com/isomorphic/servlet/VersionedURLFilter.html" title="class in com.isomorphic.servlet"><span class="typeNameLink">Next&nbsp;Class</span></a></li> </ul> <ul class="navList"> <li><a href="../../../index.html?com/isomorphic/servlet/URIRegexFilter.html" target="_top">Frames</a></li> <li><a href="URIRegexFilter.html" target="_top">No&nbsp;Frames</a></li> </ul> <ul class="navList" id="allclasses_navbar_bottom"> <li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li> </ul> <div> <script type="text/javascript">allClassesLink=document.getElementById("allclasses_navbar_bottom");if(window==top){allClassesLink.style.display="block"}else{allClassesLink.style.display="none"};</script> </div> <div> <ul class="subNavList"> <li>Summary:&nbsp;</li> <li>Nested&nbsp;|&nbsp;</li> <li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li> <li>Constr&nbsp;|&nbsp;</li> <li><a href="#method.summary">Method</a></li> </ul> <ul class="subNavList"> <li>Detail:&nbsp;</li> <li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li> <li>Constr&nbsp;|&nbsp;</li> <li><a href="#method.detail">Method</a></li> </ul> </div> <a name="skip.navbar.bottom"> </a></div> </body> </html>