/*

  SmartClient Ajax RIA system
  Version v14.1p_2025-06-14/EVAL Development Only (2025-06-14)

  Copyright 2000 and beyond Isomorphic Software, Inc. All rights reserved.
  "SmartClient" is a trademark of Isomorphic Software, Inc.

  LICENSE NOTICE
     INSTALLATION OR USE OF THIS SOFTWARE INDICATES YOUR ACCEPTANCE OF
     ISOMORPHIC SOFTWARE LICENSE TERMS. If you have received this file
     without an accompanying Isomorphic Software license file, please
     contact licensing@isomorphic.com for details. Unauthorized copying and
     use of this software is a violation of international copyright law.

  DEVELOPMENT ONLY - DO NOT DEPLOY
     This software is provided for evaluation, training, and development
     purposes only. It may include supplementary components that are not
     licensed for deployment. The separate DEPLOY package for this release
     contains SmartClient components that are licensed for deployment.

  PROPRIETARY & PROTECTED MATERIAL
     This software contains proprietary materials that are protected by
     contract and intellectual property law. You are expressly prohibited
     from attempting to reverse engineer this software or modify this
     software for human readability.

  CONTACT ISOMORPHIC
     For more information regarding license rights and restrictions, or to
     report possible license violations, please contact Isomorphic Software
     by email (licensing@isomorphic.com) or web (www.isomorphic.com).

*/

if(window.isc&&window.isc.module_Core&&!window.isc.module_AutoTestUI){isc.module_AutoTestUI=1;isc._moduleStart=isc._AutoTestUI_start=(isc.timestamp?isc.timestamp():new Date().getTime());if(isc._moduleEnd&&(!isc.Log||(isc.Log&&isc.Log.logIsDebugEnabled('loadTime')))){isc._pTM={message:'AutoTestUI load/parse time: '+(isc._moduleStart-isc._moduleEnd)+'ms',category:'loadTime'};if(isc.Log&&isc.Log.logDebug)isc.Log.logDebug(isc._pTM.message,'loadTime');else if(isc._preLog)isc._preLog[isc._preLog.length]=isc._pTM;else isc._preLog=[isc._pTM]}isc.definingFramework=true;isc.defineClass("EventStreamViewer","VLayout");isc.A=isc.EventStreamViewer.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.defaultWidth=450;isc.A.defaultHeight=200;isc.A.eventGridDefaults={_constructor:"ListGrid",sortField:"eventTime",sortDirection:"descending",selectionType:"single",hoverAutoFitMaxWidth:"80%",showClippedValuesOnHover:true,datetimeFormatter:"toSerializeableDate",canShowFilterEditor:true,defaultFields:[{name:"eventType",title:"Event Type",width:100},{name:"keyName",title:"Key Name(s)",hidden:true,width:100,formatCellValue:function(_1,_2,_3,_4,_5){return _2.keyNames||_2.keyName}},{name:"count",title:"Count",type:"integer",hidden:true,width:60},{name:"targetID",title:"Target Canvas",formatCellValue:function(_1,_2,_3,_4,_5){return _1?"["+_2.targetClass+" ID: "+_1+"]":"-"}},{name:"locator",title:"SmartClient Locator"},{name:"fileName",title:"File Name",hidden:true},{name:"fileVersion",title:"File Version",type:"datetime",width:160,hidden:true,align:"left"},{name:"fileType",title:"File Type",hidden:true,width:100},{name:"URL",hidden:true},{name:"eventTime",title:"Event Time",hidden:true,width:160,formatCellValue:function(_1,_2,_3,_4,_5){return new Date(_1).toNormalDate()}},{name:"timeOffset",title:"Time Offset",width:150,formatCellValue:function(_1,_2,_3,_4,_5){return isc.EventStreamViewer.formatTimeOffset(_1)}},{name:"errorTrace",title:"Error Trace",showValueIconOnly:true,showHover:true,hidden:true,hoverHTML:function(_1){var _2=_1.errorTrace;return _2?"<span style='white-space: pre'>"+_2+"</span>":null}}],$220l:"[SKIN]../../../../system/reference/skin/images/DocPrefsDialog/cancel.png",contentWindowConstructor:"ContentViewerWindow",contentWindowDefaults:{title:"Error Trace"},getValueIcon:function(_1,_2,_3){return _1.name=="errorTrace"&&_2?this.$220l:null},normalizeStreamData:function(_1){if(_1==null||_1.$68){return}
_1.$68=true;var _2=_1.startTime.getTime(),_3=_1.lastErrorOffset,_4,_5=_1.events;for(var i=0,_7=_3||0;i<_5.length;i++,_7=_4)
{_4=_5[i].timeOffset;_5[i].eventTime=_4+_2;_5[i].timeOffset=_4-_7}},showLoadingDataMessage:function(){if(this._emptyMessage)return;this._emptyMessage=this.emptyMessage;this.emptyMessage=this.loadingDataMessage;this.setData([])},setDataFromEventStream:function(_1){if(this._emptyMessage){this.emptyMessage=this._emptyMessage;delete this._emptyMessage}
this.normalizeStreamData(_1);this.setData(_1?_1.events.duplicate():[])},selectionChanged:function(_1){var _2=window.debugTarget;if(!this.anySelected()||!this.creator.crossWindow||!_2){return}
if(_1&&_1.targetID){_2.call("isc.Log.hiliteCanvas",[_1.targetID,true])}},recordClick:function(_1,_2,_3,_4){if(_4.name!="errorTrace")return;if(!this.contentWindow)this.addAutoChild("contentWindow");this.contentWindow.showContent(_2.errorTrace)}};isc.A.streamPickerDefaults={_constructor:"DynamicForm",colWidths:[125,"*",70,5,110],numCols:5,updateStreamData:function(_1){var _2=window.debugTarget;if(!_2){this.logInfo("no cross-window DMI; skipping updating stream summaries","eventStreamViewer");return}
var _3=this,_4=_3.creator;_2.call("isc.EventStream.getStreamValueMap",[],function(_8){var _5=_3.getValue("startTime");_3.setValueMap("startTime",_8);_3.markForRedraw("new stream state");if(!_5&&!_1&&_4.eventStream!=null){return}
if(!_5){var _6=_3.getItem("startTime");_6.setUpPickList();var _7=_6.pickList.getRecord(0);_5=_7?_7.startTime:null;_6.setValue(_5)}
if(!_5||_8[_5]){_4.loadEventStream(_5)}})},initWidget:function(){this.Super("initWidget",arguments);this.updateStreamData()},items:[{name:"startTime",title:"Available EventStreams",editorType:"SelectItem",type:"datetime",width:"100%",wrapTitle:false,sortField:"startTime",valueField:"startTime",displayField:"summary",addUnknownValues:false,pickListProperties:{},emptyDisplayValue:"<span style='text-align:center'>(no active stream selected)</span>",dateFormatter:"toLocaleString",pickListFields:[{name:"summary",type:"text",align:"left",width:"100%"}],init:function(){this.Super("init",arguments);this.makePickList()},changed:function(_1){var _2=this.getSelectedRecord();_1.creator.loadEventStream(_2.startTime)}},{name:"refresh",showTitle:false,icon:"[SKINIMG]/headerIcons/refresh.png",editorType:"ButtonItem",startRow:false,endRow:false,click:function(_1,_2){_1.updateStreamData(true)}},{$2199:"eventStream_capture",$220a:"isc.EventStream.getCommonStreamCapture",$220b:"isc.EventStream.setCommonStreamCapture",name:"capture",title:"Capture Events",editorType:"CheckboxItem",disabled:true,width:110,prompt:"Click to toggle capturing by the built-in EventStream",init:function(){this.Super("init",arguments);var _1=window.debugTarget,_2=isc.LogViewer.getGlobalLogCookieValue(this.$2199);if(isc.isA.Boolean(_2)){if(_1)_1.call(this.$220b,[_2]);this.setValue(_2);this.setDisabled(false);return}
if(_1){var _3=this;_1.call(this.$220a,[],function(_2){_3.setValue(_2);_3.setDisabled(false)})}},changed:function(_1,_2,_3){var _4=window.debugTarget;if(_4)_4.call(this.$220b,[_3]);isc.LogViewer.setGlobalLogCookieValue(this.$2199,_3)}}]};isc.A.viewerControlsDefaults={_constructor:"DynamicForm",width:1,colWidths:[50,150,70,100],numCols:4,values:{filename:"events"},layoutAlign:"right",items:[{name:"filename",title:"Filename",width:"*"},{name:"export",editorType:"ButtonItem",icon:"[SKINIMG]/actions/save.png",startRow:false,endRow:false,click:function(_1,_2){var _3=_1.creator.eventGrid,_4=_1.getValue("filename"),_5=_1.getValue("exportType");_3.exportClientData({exportAs:_5,exportFilename:_4,exportPropertyIdentifier:"title"})}},{name:"exportType",type:"select",showTitle:false,width:"*",defaultToFirstOption:true,redrawOnChange:true,valueMap:{"csv":"CSV","xml":"XML","xls":"XLS (Excel97)","ooxml":"OOXML (Excel2007)"}}]};isc.B.push(isc.A.initWidget=function isc_EventStreamViewer_initWidget(){this.Super("initWidget",arguments);if(this.showStreamPicker&&!this.crossWindow){this.logWarn("stream picker requires cross-window communications","eventStreamViewer");this.showStreamPicker=false}
if(this.showStreamPicker==null){this.showStreamPicker=!this.eventStream&&!!this.crossWindow}
this.addAutoChild("streamPicker",{viewer:this});this.addAutoChild("eventGrid",{viewer:this});this.addAutoChild("viewerControls",{viewer:this});if(this.eventStream)this.setEventStream(this.eventStream)},isc.A.updateStreamData=function isc_EventStreamViewer_updateStreamData(){if(this.streamPicker)this.streamPicker.updateStreamData()},isc.A.setEventStream=function isc_EventStreamViewer_setEventStream(_1){if(this.streamPicker)this.streamPicker.setValue("startTime",null);this.$256c(_1)},isc.A.$256c=function isc_EventStreamViewer__setEventStream(_1){this.eventStream=_1;this.eventGrid.setDataFromEventStream(_1)},isc.A.loadEventStream=function isc_EventStreamViewer_loadEventStream(_1){if(_1==null)this.$256c();var _2=window.debugTarget;if(!this.crossWindow||!_2){this.logWarn("loading eventStreamData by date requires cross-window DMI","eventStreamViewer");return}
var _3=_1;if(!isc.isA.Date(_1)){if(_1==parseInt(_1)){_1=new Date(parseInt(_1))}else if(isc.isA.String(_1)){_1=isc.DateUtil.parseSchemaDate(_1)}}
if(!isc.isA.Date(_1)||!isFinite(_1)){this.logWarn("can't load eventStreamDate - invalid date '"+_3+"'","eventStreamViewer");return}
this.eventGrid.showLoadingDataMessage();var _4=this;_2.call("isc.EventStream.getEventStreamData",[_1],function(_5){if(this.streamPicker&&this.streamPicker.getValue("startTime")==null){this.logInfo("setEventStreamData() called; dropping cross-window data");return}
_4.$256c(_5)})});isc.B._maxIndex=isc.C+5;isc.A=isc.EventStreamViewer;isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.B.push(isc.A.formatTimeOffset=function isc_c_EventStreamViewer_formatTimeOffset(_1){if(_1<60000){var _2=Math.floor(_1/1000),_3=_1%1000;return _2+(_2!=1?" seconds, ":" second, ")+_3+" millis"}
var _4=Math.floor(_1/60000),_2=Math.floor((_1%60000)/1000);return _4+"m, "+_2+"s"});isc.B._maxIndex=isc.C+1;isc.defineClass("SeleneseCommandDataSource","DataSource");isc.A=isc.SeleneseCommandDataSource.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.clientOnly=true;isc.A.fields=[{name:"commandName",width:150,required:true},{name:"argument1",title:"Argument 1"},{name:"argument2",title:"Argument 2"},{name:"description"},{name:"onFailure",type:"enum",width:100,xmlAttribute:true,valueMap:["continue","stop","retry"]},{name:"screenshot",type:"boolean",xmlAttribute:true},{name:"waitFor",type:"boolean",xmlAttribute:true,valueMap:[true,null]}];isc.A.fieldDefaults={commandName:"click",onFailure:"stop",waitFor:true};isc.A.commandDescription={open:"load page",type:"type in ${target}",click:"click on ${target}",sendKeys:"send keys to ${target}",doubleClick:"double click on ${target}",waitForElementClickable:"wait for ${target} to become clickable",waitForElementReadyForKeyPresses:"wait for ${target} to accept typing"};isc.B.push(isc.A.canonicalizeRecord=function isc_SeleneseCommandDataSource_canonicalizeRecord(_1){isc.addDefaults(_1,this.fieldDefaults);var _2=this.commandDescription[_1.commandName];if(!_2)return;var _3=_1.$250b||"target";_1.description=_2.evalDynamicString(this,{target:_3})});isc.B._maxIndex=isc.C+1;isc.SeleneseCommandDataSource.getPrototype().fields.find("name","commandName").valueMap=["open","click","clickAndHold","clickAndHoldAt","contextClick","doubleClick","release","releaseAt","mouseMove","mouseMoveAt","dragAndDrop","dragAndDropBy","type","sendKeys","sendData","keyPress","keyDown","keyUp","shiftKeyDown","shiftKeyUp","controlKeyDown","controlKeyUp","focus","blur","pause","selectTab","selectNextTab","selectPreviousTab","closeTab","closeCurrentTab","selectListGridItem","storeEval","storeValue","storeVariable","setValueTolerance","setElementTolerance","setCanvasWidthTolerance","setCanvasHeightTolerance","clearTolerances","setCanvasPropertyTrue","setCanvasPropertyFalse","clearCanvasProperty","verifyElementWidth","verifyElementHeight","verifyElementPositionLeft","verifyElementPositionTop","verifyElementPresent","verifyElementVisible","verifyElementSelected","verifyElementClickable","verifyElementReadyForKeyPresses","verifyCanvasWidth","verifyCanvasHeight","verifyElementWidthWithTolerance","verifyElementHeightWithTolerance","verifyValue","verifyValueWithTolerance","verifyValueEmpty","verifyText","verifyTextPresent","verifyTitle","waitForElementClickable","waitForElementNotClickable","waitForElementVisible","waitForElementNotVisible","waitForElementPresent","waitForElementNotPresent","waitForElementReadyForKeyPresses","waitForCanvasDone","waitForGridDone","waitForTileGridDone","waitForTileLayoutDone","waitForFormDone","waitForItemDone","waitForSystemDone","waitForText","waitForHoverTextPresent","waitForValue","waitForCondition","waitForEval","assertEval"].sort();isc.defineClass("SeleneseGrid","ListGrid");isc.A=isc.SeleneseGrid.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.canEdit=true;isc.A.canGroup=false;isc.A.saveLocally=true;isc.A.showRowNumbers=true;isc.A.canRemoveRecords=true;isc.A.canReorderRecords=true;isc.A.showCellContextMenus=true;isc.A.showClippedValuesOnHover=true;isc.A.useAllDataSourceFields=true;isc.A.breakpoints=[];isc.A.hilites=[{id:"commandSuccess",cssText:"color: #009800;"},{id:"commandFailure",cssText:"color: red;"},{id:"startPoint",cssText:"font-weight: bold; color: purple;",criteria:{$247r:true},fieldName:"$74y"},{id:"breakpoint",cssText:"font-weight: bold; color: purple;",criteria:{$247s:true},fieldName:"$74y"},{id:"insertionPoint",cssText:"font-weight: bold; color: purple;",criteria:{$248d:true},fieldName:"$74y"}];isc.A.defaultFields=[{name:"commandName",editorType:"ComboBoxItem"},{name:"screenshot",valueMap:[true,false,null],editorProperties:{allowEmptyValue:true}},{name:"waitFor"},{name:"output",title:"Output",canEdit:false,canHover:true,showHover:true,autoFitWidth:true,autoFitWidthApproach:"title",showValueIconOnly:true,hoverHTML:function(_1){return _1.output},recordClick:function(_1,_2){if(!_2.output)return;var _3=_1.creator.commandOutputWindowTitle;_1.showContent(_3,_2.output);return false}},{name:"shotfile",showTitle:false,canEdit:false,icon:"[SKIN]/actions/color_swatch.png",cellIcon:null,showValueIconOnly:true,recordClick:function(_1,_2,_3){var _4=_2.shotfile;if(!_4)return;var _5=_1.creator,_6=_5.getScriptName(),_7=_3+_1.rowNumberStart;_5.downloadScreenshot(_4,_6+".r"+_7+".png")}},{name:"failureCount",title:"Fails",type:"integer",autoFitWidth:true,autoFitWidthApproach:"title",hidden:true}];isc.A.outputWindowDefaults={_constructor:"ContentViewerWindow"};isc.B.push(isc.A.initWidget=function isc_SeleneseGrid_initWidget(){this.Super("initWidget",arguments);this.initCacheData(this.observeStream())},isc.A.initCacheData=function isc_SeleneseGrid_initCacheData(_1){for(var i=0;i<_1.length;i++){this.creator.canonicalizeCommand(_1[i]);_1[i].id=i+1}
this.setData(_1)},isc.A.observeStream=function isc_SeleneseGrid_observeStream(_1){var _2=this,_3=_2.creator,_4=this.eventStream;var _5=_4.setSeleneseListener(function(_10,_11){var _6=_2.data,_7=_3.setOpenURL(_11);if(_10.length&&!_6.length)_10.unshift({commandName:"open",argument1:_3.openURL});for(var i=0;i<_10.length;i++){_3.canonicalizeCommand(_10[i])}
var _9=_2.getCommandInsertionPoint();if(_9==null)_6.addList(_10);else _6.addListAt(_10,_9)},this.captureSettings,this.reportingDelay,_1);return _5},isc.A.clearData=function isc_SeleneseGrid_clearData(){this.setData([]);this.observeStream(true)},isc.A.isBreakpoint=function isc_SeleneseGrid_isBreakpoint(_1){return this.breakpoints.contains(_1)},isc.A.configureForRunning=function isc_SeleneseGrid_configureForRunning(){this.setCanReorderRecords(false)},isc.A.configureForEditing=function isc_SeleneseGrid_configureForEditing(){this.setCanReorderRecords(true)},isc.A.dataChanged=function isc_SeleneseGrid_dataChanged(){this.Super("dataChanged",arguments);this.creator.updateRunModeFromData(this.data)},isc.A.dataSetChanged=function isc_SeleneseGrid_dataSetChanged(){this.Super("dataSetChanged",arguments);this.creator.updateRunModeFromData(this.data)},isc.A.$248e=function isc_SeleneseGrid__initTriStateValueIcons(_1){var _2=isc.TreeGrid.getPrototype();_1.valueIcons={true:_2.booleanTrueImage,false:_2.booleanFalseImage,null:_2.booleanPartialImage,undefined:_2.booleanPartialImage};_1.valueIconWidth=this.booleanImageWidth;_1.valueIconHeight=this.booleanImageHeight},isc.A.getValueIcon=function isc_SeleneseGrid_getValueIcon(_1,_2,_3){switch(_1.name){case"output":return _2?"[SKIN]/../DynamicForm/text_control.gif":null;case"shotfile":return _2?"[SKIN]/../actions/color_swatch.png":null;case"screenshot":if(!_1.valueIcons)this.$248e(_1)}
return this.invokeSuper(isc.SeleneseGrid,"getValueIcon",_1,_2,_3)},isc.A.selectionUpdated=function isc_SeleneseGrid_selectionUpdated(_1){this.provideRuleContext("commandGrid/hasSelection",!!_1)},isc.A.removeRecordClick=function isc_SeleneseGrid_removeRecordClick(_1,_2){if(!this.creator.isRunning()){this.invokeSuper(isc.SeleniumPlaybackGrid,"removeRecordClick",_1,_2)}},isc.A.$246z=function isc_SeleneseGrid__setPasteBuffer(_1){for(var i=0;i<_1.length;i++){var _3=this.getCleanRecordData(_1[i]);delete _3[this.hiliteProperty];_1[i]=_3}
this.pasteBuffer=_1},isc.A.isMetaDataProperty=function isc_SeleneseGrid_isMetaDataProperty(_1){if(_1=="$247s"||_1=="$247r"||_1=="failureCount"||_1=="errorCount"||_1=="shotfile"||_1=="output")
{return true}
return this.Super("isMetaDataProperty",arguments)},isc.A.$248f=function isc_SeleneseGrid__getContextSelectionItems(_1,_2){if(!this.getSelectedRecord())return[];return[{title:"Cut Selected",click:function(_5){var _3=_5.getSelection();for(var i=_3.length-1;i>=0;i--){_5.removeData(_3[i])}
_5.$246z(_3);isc.notify(_3.length+" record(s) cut to the paste buffer")}},{title:"Copy Selected",click:function(_5){var _3=_5.getSelection();_5.$246z(_3);isc.notify(_3.length+" record(s) copied to the paste buffer")}},{title:"Delete Selected",click:function(_5){var _3=_5.getSelection();if(_3.length==1){_5.removeData(_3[0]);return}
_5.creator.beginDialogInteraction();isc.confirm("OK to delete "+_3.length+" commands?",function(_6){_5.creator.endDialogInteraction();if(_6)for(var i=_3.length-1;i>=0;i--){_5.removeData(_3[i])}})}},{title:"Mass Edit Selected",click:function(_5){_5.creator.openMassEditWindow()}}]},isc.A.$248g=function isc_SeleneseGrid__getContextRecordertItems(_1,_2){var _3=[{isSeparator:true}];if(this.insertionPoint!=null)_3.add({title:"Clear Insertion Point",click:function(_4){_4.$2460()}});if(_2!=null&&this.insertionPoint!=_1){_3.add({title:"Set Insertion point",click:function(_4,_5,_6){_4.$2461(_1,_2)}})};if(_3.last().isSeparator)_3.pop();return _3},isc.A.$248h=function isc_SeleneseGrid__getContextPlayerItems(_1,_2){var _3=[];var _4=this.startPoint,_5=this.breakpoints;if(_1&&_4!=_1)_3.add({title:"Set Start Point Here",click:function(_6,_7,_8){if(_5.contains(_1)){_6.$247w(_1,_2)}
_6.$247t(_1,_2)}});if(_4)_3.add({title:"Clear Start Point",click:function(_6,_7,_8){_6.$247u()}});if(_1&&!_5.contains(_1))_3.add({title:"Set Breakpoint Here",click:function(_6,_7,_8){if(_4==_1){_6.$247u()}
_6.$247v(_1,_2)}});if(_1&&_5.contains(_1))_3.add({title:"Clear This Breakpoint",click:function(_6,_7,_8){_6.$247w(_1,_2)}});if(_5.length)_3.add({title:"Clear All Breakpoints",click:function(_6,_7,_8){_6.$247x()}});return _3},isc.A.getCellContextMenuItems=function isc_SeleneseGrid_getCellContextMenuItems(_1,_2){var _3=[];if(this.creator.canEdit()){var _4=this.pasteBuffer;if(_4&&_4.length)_3.add({title:"Paste Commands Here",click:function(_7,_8,_9){var _5=_7.data,_6=_7.pasteBuffer;if(_2==null)_5.addList(_6);else _5.addListAt(_6,_2);_7.pasteBuffer=isc.shallowClone(_6)}});_3.add({title:"Add New Command Here",click:function(_7,_8,_9){_7.startEditingNewAtRow(_2)}});_3.addList(this.$248f(_1,_2));_3.addList(this.$248g(_1,_2))}
_3.addList(this.$248h(_1,_2));return _3},isc.A.showContextMenu=function isc_SeleneseGrid_showContextMenu(){var _1=this.getCellContextMenuItems();var _2=this.contextMenu;if(_2)_2.setItems(_1);else this.contextMenu={items:_1};return this.invokeSuper(isc.SeleneseGrid,"showContextMenu")},isc.A.startEditingNewAtRow=function isc_SeleneseGrid_startEditingNewAtRow(_1){var _2=this.creator.getCommandDefaults();if(_1==null)this.startEditingNew(_2);else{var _3=isc.addProperties({},_2);this.data.addAt(_3,_1);this.startEditing(_1)}},isc.A.removeData=function isc_SeleneseGrid_removeData(_1,_2,_3,_4){this.$247p(_1);return this.invokeSuper(isc.SeleniumGrid,"removeData",_1,_2,_3,_4)},isc.A.$247p=function isc_SeleneseGrid__removeMetaData(_1){if(_1==this.insertionPoint){this.$2460()}
if(_1==this.startPoint){this.$247u()}
if(this.breakpoints.contains(_1)){this.$247w(_1)}},isc.A.$2460=function isc_SeleneseGrid__clearCommandInsertionPoint(_1){var _2=this.insertionPoint,_3=this.getRecordIndex(_2);if(_3>=0){delete _2.$248d}
delete this.insertionPoint;if(!_1){this.$247y(_3)}},isc.A.$2461=function isc_SeleneseGrid__setCommandInsertionPoint(_1,_2){this.$2460(true);_1.$248d=true;this.insertionPoint=_1;this.$247y(_2)},isc.A.getCommandInsertionPoint=function isc_SeleneseGrid_getCommandInsertionPoint(){var _1=this.insertionPoint,_2=this.getRecordIndex(_1);if(_2>=0)return _2},isc.A.$247u=function isc_SeleneseGrid__clearRunStartPoint(_1){var _2=this.startPoint,_3=this.getRecordIndex(_2);if(_3>=0){delete _2.$247r}
delete this.startPoint;if(!_1){this.$247y(_3)}},isc.A.$247t=function isc_SeleneseGrid__setRunStartPoint(_1,_2){this.$247u(true);_1.$247r=true;this.startPoint=_1;this.$247y(_2)},isc.A.$247v=function isc_SeleneseGrid__setBreakpoint(_1,_2){_1.$247s=true;this.breakpoints.add(_1);this.$247y(_2)},isc.A.$247w=function isc_SeleneseGrid__clearBreakpoint(_1,_2){delete _1.$247s;this.breakpoints.remove(_1);this.$247y(_2)},isc.A.$247x=function isc_SeleneseGrid__clearAllBreakpoints(){var _1=this.breakpoints;for(var i=0;i<_1.length;i++){var _3=_1[i],_4=this.getRecordIndex(_3);if(_4>=0){delete _3.$247s;this.refreshRow(_4)}}
this.breakpoints=[];this.$247y()},isc.A.$247y=function isc_SeleneseGrid__recordMetaDataChanged(_1){this.applyHilites();if(_1!=null&&_1>=0){this.refreshRow(_1)}},isc.A.initCurrentCommand=function isc_SeleneseGrid_initCurrentCommand(){if(this.getRecordIndex(this.startPoint)>=0){this.currentCommand=this.startPoint}else{this.currentCommand=this.getRecord(0)}},isc.A.findCurrentCommand=function isc_SeleneseGrid_findCurrentCommand(){var _1=this.currentCommand;if(this.getRecordIndex(_1)<0){_1=null}
if(!_1)this.deselectAllRecords();else this.selectSingleRecord(_1);return _1},isc.A.stepToNextCommand=function isc_SeleneseGrid_stepToNextCommand(){var _1=this.currentCommand,_2=this.getRecordIndex(_1);if(_2>=0){_1=this.getRecord(_2+1);if(_1){this.selectSingleRecord(_1);return this.currentCommand=_1}}
delete this.currentCommand;this.deselectAllRecords()},isc.A.showContent=function isc_SeleneseGrid_showContent(_1,_2){var _3=this.outputWindow;if(!_3)_3=this.addAutoChild("outputWindow");_3.showContent(_2);_3.setTitle(_1);_3.show()},isc.A.getOutput=function isc_SeleneseGrid_getOutput(){var _1=this.data.filter(function(_3){return!!_3.output});var _2=_1.getProperty("output");return _2.join("")},isc.A.$250e=function isc_SeleneseGrid__formatOutputFromArray(_1){return _1.getProperty("output").map(function(_2){if(!_2.endsWith("\n"))_2+="\n";if(!_2.startsWith("\n"))_2="\n"+_2;return _2})},isc.A.getFailures=function isc_SeleneseGrid_getFailures(){var _1=this.data.filter(function(_2){if(!_2.output)return false;return _2.failureCount&&!_2.$250f});return this.$250e(_1)},isc.A.getErrors=function isc_SeleneseGrid_getErrors(){var _1=this.data.filter(function(_2){if(!_2.output)return false;return _2.errorCount});return this.$250e(_1)},isc.A.incrementCommandFailures=function isc_SeleneseGrid_incrementCommandFailures(_1){if(!_1.failureCount){_1.failureCount=0}
return++_1.failureCount},isc.A.incrementCommandErrors=function isc_SeleneseGrid_incrementCommandErrors(_1){if(!_1.errorCount){_1.errorCount=0}
return++_1.errorCount},isc.A.handleResult=function isc_SeleneseGrid_handleResult(_1,_2){var _3=_2.result,_4=_3!=false,_5=this.getRecordIndex(_1);if(_5>=0){_1.output=_2.output;_1.shotfile=_2.shotfile;if(_4){_1[this.hiliteProperty]="commandSuccess"}else{_1[this.hiliteProperty]="commandFailure";this.incrementCommandFailures(_1)}
this.scrollToRow(_5);this.refreshRow(_5)}
return _4},isc.A.handleError=function isc_SeleneseGrid_handleError(_1,_2){var _3=this.getRecordIndex(_1);if(_3>=0){if(_2)_1.output=_2;_1[this.hiliteProperty]="commandFailure";this.incrementCommandErrors(_1);this.refreshRow(_3);this.creator.errorCount++}},isc.A.clearTestResults=function isc_SeleneseGrid_clearTestResults(){this.data.clearProperty(this.hiliteProperty);this.data.clearProperty("failureCount");this.data.clearProperty("errorCount");this.data.clearProperty("$250f");this.data.clearProperty("shotfile");this.data.clearProperty("output");this.applyHilites()});isc.B._maxIndex=isc.C+45;isc.SeleneseGrid.changeDefaults("rowNumberFieldDefaults",{showHover:true,autoFitWidth:true,hoverHTML:function(_1,_2,_3,_4,_5){if(_1==_5.insertionPoint){return"Captured Selenese will be inserted before this command"}},formatCellValue:function(_1,_2,_3,_4,_5){_3+=this.rowNumberStart;var _6=_5.insertionPoint;if(_6&&_6==_2)_3+="+";var _7=_5.startPoint;if(_7&&_7==_2)_3+="^";var _8=_5.breakpoints;if(_8.length&&_8.contains(_2)){_3+="*"}
return isc.isA.Number(_3)?_3+"&numsp;&numsp;":_3}}),isc.defineClass("SeleneseMassEditForm","DynamicForm");isc.A=isc.SeleneseMassEditForm.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.width="100%";isc.A.height="100%";isc.A.wrapItemTitles=false;isc.A.numCols=3;isc.A.colWidths=[120,"*",100];isc.A.formUsageText="Check \"update\" for each field you want to change and select a value, then click \"apply\" to mass update the selected records. ";isc.A.items=[{name:"usageText",editorType:"StaticTextItem",height:50,shouldSaveValue:false,showTitle:false,vAlign:"top",colSpan:3,defaultDynamicValue:"form.formUsageText"},{name:"onFailure",width:150,readOnlyDisplay:"disabled",defaultValue:"stop",readOnlyWhen:{fieldName:"updateOnFailure",operator:"notEqual",value:true}},{name:"updateOnFailure",title:"update",type:"boolean",showTitle:false,width:85},{name:"screenshot",allowEmptyValue:true,readOnlyDisplay:"disabled",defaultValue:false,readOnlyWhen:{fieldName:"updateScreenshot",operator:"notEqual",value:true}},{name:"updateScreenshot",title:"update",type:"boolean",showTitle:false,width:85},{name:"waitFor",readOnlyDisplay:"disabled",defaultValue:false,readOnlyWhen:{fieldName:"updateWaitFor",operator:"notEqual",value:true}},{name:"updateWaitFor",title:"update",type:"boolean",showTitle:false,width:85},{editorType:"SpacerItem",height:10,startRow:true},{editorType:"SpacerItem",startRow:true},{editorType:"ButtonItem",title:"Apply",startRow:false,endRow:false,align:"right",click:function(_1,_2){var _3=isc.addProperties({},_1.getValues());for(var _4 in _3){if(_1.getItem(_4).isDisabled()||_4.startsWith("update")){delete _3[_4]}}
var _5=_1.creator.commandGrid,_6=_5.getSelection();for(var i=0;i<_6.length;i++){var _8=_6[i];isc.addProperties(_8,_3)}
_5.markForRedraw();_1.close()}},{editorType:"ButtonItem",title:"Cancel",startRow:false,endRow:false,click:function(_1,_2){_1.close()}}];isc.B.push(isc.A.close=function isc_SeleneseMassEditForm_close(){this.clearValues();this.creator.massEditWindow.close()});isc.B._maxIndex=isc.C+1;isc.ClassFactory.defineClass("EventStreamRemoteProxy").addClassProperties({proxies:{},registerLocal:function(_1){var _2=_1.getID();this.proxies[_2]=_1},handleRemoteCommands:function(_1,_2,_3){this.proxies[_1].handleRemoteCommands(_2,_3)}});isc.A=isc.EventStreamRemoteProxy.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.B.push(isc.A.init=function isc_EventStreamRemoteProxy_init(){this.invokeSuper(isc.EventStreamRemoteProxy,"init");isc.EventStreamRemoteProxy.registerLocal(this);this.registerRemote()},isc.A.registerRemote=function isc_EventStreamRemoteProxy_registerRemote(_1){window.debugTarget.call("isc.EventStream.createNamedStreamForRemoteProxy",[this.getID()],function(_2){if(_1)_1(_2)})},isc.A.start=function isc_EventStreamRemoteProxy_start(_1){window.debugTarget.call("isc.EventStream.executeStreamAPIForRemoteProxy",[this.getID(),"start",_1])},isc.A.end=function isc_EventStreamRemoteProxy_end(){window.debugTarget.call("isc.EventStream.executeStreamAPIForRemoteProxy",[this.getID(),"end"])},isc.A.setSeleneseListener=function isc_EventStreamRemoteProxy_setSeleneseListener(_1,_2,_3,_4){this.callback=_1;window.debugTarget.call("isc.EventStream.setRemoteProxySeleneseListener",[this.getID(),_2,_3,_4],function(_5){this.fireCallback(_1,["newCommands","url"],[_5[0],_5[1]])});return[]},isc.A.handleRemoteCommands=function isc_EventStreamRemoteProxy_handleRemoteCommands(_1,_2){this.fireCallback(this.callback,["newCommands","url"],[_1,_2])},isc.A.getPendingEventsURL=function isc_EventStreamRemoteProxy_getPendingEventsURL(){return window.debugTarget&&window.debugTarget.serverProperties.URL});isc.B._maxIndex=isc.C+7;isc.defineClass("SeleneseRecorder","VLayout");isc.A=isc.SeleneseRecorder.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.sizeToControlsOverflow=true;isc.A.commandGridDefaults={_constructor:"SeleneseGrid"};isc.A.dataSourceDefaults={_constructor:"SeleneseCommandDataSource"};isc.A.massEditWindowDefaults={_constructor:"Window",title:"Mass Edit Selected Commands",showMinimizeButton:false,visibility:"hidden",showModalMask:true,autoCenter:true,autoSize:true,isModal:true,width:425};isc.A.massEditFormDefaults={_constructor:"SeleneseMassEditForm"};isc.A.htmlExportHeader="<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>\n<head><title>${testname}.rctest</title></head>\n<body><table><tbody>\n";isc.A.htmlExportFooter="</tbody></table></body>\n</html>";isc.A.eventStreamDefaults={_constructor:"EventStream"};isc.A.commandGridDefaults={_constructor:"SeleneseGrid"};isc.A.usageLabelDefaults={_constructor:"Label",contents:"The Selenese Recorder captures commands from interaction with the main window.  You can rearrange, edit, or add commands before exporting as Selenese.  You can also load a script and then run it interactively with SeleneseRunner.",height:1,padding:5};isc.A.recorderControlsDefaults={_constructor:"DynamicForm",numCols:11,colWidths:[85,120,90,"*",75,75,75,"*",170,80,140],dataSource:"scriptLoader",items:[{name:"testname",title:"Test Name",width:"*",wrapTitle:false,defaultValue:"test"},{name:"export",title:"Export",editorType:"ButtonItem",autoSize:true,icon:"[SKIN]/headerIcons/save.png",startRow:false,endRow:false,height:24,disabled:true,readOnlyWhen:{_constructor:"AdvancedCriteria",operator:"or",criteria:[{fieldName:"testname",operator:"isNull"},{fieldName:"/isScriptLoaded",operator:"notEqual",value:true}]},click:function(_1,_2){_1.creator.exportScript()}},{name:"selenese",showTitle:false,editorType:"FileItem",readOnlyDisplay:"static",multiple:false,accept:"text/html",changed:function(_1,_2,_3){if(!_3)return;_1.creator.drop();_1.saveData(function(_5,_6){var _4=_6.scriptName.replace(/\.rctest$/,"");_1.setValue("testname",_4);_1.setValue("capture",false);_1.creator.eventStream.end();_1.creator.load(_6)})},click:function(_1,_2){this.clearValue()}},{name:"runButton",title:"Run",editorType:"ButtonItem",height:24,startRow:false,endRow:false,width:60,disabled:true,align:"right",readOnlyWhen:{_constructor:"AdvancedCriteria",operator:"or",criteria:[{fieldName:"/isScriptLoaded",operator:"notEqual",value:true},{fieldName:"/scriptRunMode",operator:"equals",value:"stopping"},{fieldName:"/scriptRunMode",operator:"equals",value:"starting"}]},click:function(_1,_2){var _3=_1.creator;switch(_2.title){case"Pause":this.setTitle("Go");_3.pause();break;case"Go":this.setTitle("Pause");_3.go();break;default:this.setTitle("Pause");_3.start();break}}},{name:"stopButton",title:"Stop",editorType:"ButtonItem",height:24,startRow:false,endRow:false,width:60,disabled:true,align:"right",readOnlyWhen:{_constructor:"AdvancedCriteria",operator:"and",criteria:[{fieldName:"/scriptRunMode",operator:"notEqual",value:"running"},{fieldName:"/scriptRunMode",operator:"notEqual",value:"paused"},{fieldName:"/scriptRunMode",operator:"notEqual",value:"ready"}]},click:function(_1,_2){_1.creator.stop()}},{name:"stepButton",title:"Step",editorType:"ButtonItem",height:24,startRow:false,endRow:false,width:60,disabled:true,align:"right",readOnlyWhen:{fieldName:"/scriptRunMode",operator:"notEqual",value:"paused"},click:function(_1,_2){_1.creator.run()}},{name:"clear",title:"Clear",editorType:"ButtonItem",autoSize:true,icon:"[SKIN]/headerIcons/trash.png",startRow:false,endRow:false,height:24,align:"right",disabled:true,readOnlyWhen:{_constructor:"AdvancedCriteria",operator:"or",criteria:[{fieldName:"/scriptRunMode",operator:"notEqual",value:"idle"},{fieldName:"/isScriptLoaded",operator:"notEqual",value:true}]},click:function(_1,_2){var _3=_1.creator;_3.beginDialogInteraction();isc.confirm(_3.getDropConfirmPrompt(),function(_4){_3.endDialogInteraction();if(_4){_3.drop();_3.resetStream()}})}},{name:"capture",type:"boolean",title:"Capture Commands",showTitle:false,width:150,defaultValue:true,changed:function(_1,_2,_3){var _4=_1.creator.eventStream;if(_3)_4.start(true);else _4.end()}},{name:"settings",title:"Settings",editorType:"ButtonItem",height:24,startRow:false,endRow:false,align:"right",click:function(_1,_2){_1.creator.recorderSettingsWindow.show()}},{name:"report",title:"Get Report",editorType:"ButtonItem",height:24,startRow:false,endRow:false,align:"right",disabled:true,click:function(_1,_2){_1.creator.createReport()},buttonProperties:{showDisabledIcon:false},icon:"[SKIN]/headerIcons/save.png",icons:[{src:"[SKIN]/RichTextEditor/bullet_green.png",showIf:function(_1,_2){var _3=_1.creator;return _3.failureCount==0&&_3.errorCount==0}},{src:"[SKIN]/RichTextEditor/bullet_red.png",showIf:function(_1,_2){var _3=_1.creator;return _3.failureCount>0||_3.errorCount>0}}],readOnlyWhen:{fieldName:"/hasReport",operator:"notEqual",value:true}}],refreshReportStatus:function(){this.getItem("report").redraw()}};isc.A.clearRecordedCommandsPrompt="OK to delete all commands?";isc.A.clearStreamAndCommandsPrompt="OK to delete all commands and reset the event stream?  All events in the stream will be lost.";isc.A.testReportWindowTitle="Test Report";isc.A.commandOutputWindowTitle="Command Output";isc.A.recorderSettingsWindowDefaults={_constructor:"Window",title:"Selenese Recorder Settings",showMinimizeButton:false,visibility:"hidden",showModalMask:true,autoCenter:true,autoSize:true,isModal:true,width:500};isc.A.recorderSettingsFormDefaults={_constructor:"SeleneseRecorderSettings"};isc.A.errorCount=0;isc.A.failureCount=0;isc.A.jUnitXMLHeader="<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<testsuites>";isc.A.jUnitXMLFooter="\n</testsuites>";isc.B.push(isc.A.getDropConfirmPrompt=function isc_SeleneseRecorder_getDropConfirmPrompt(){var _1=this.recorderSettingsForm.getValue("resetStream");return _1?this.clearStreamAndCommandsPrompt:this.clearRecordedCommandsPrompt},isc.A.setOpenURL=function isc_SeleneseRecorder_setOpenURL(_1){if(!_1)_1=this.eventStream.getPendingEventsURL();if(this.openURL==_1)return;this.openURL=_1;if(this.recorderSettingsForm){var _2=this.openURL.replace(/[^\/]*(#.*)?(\?.*)?$/,"");this.recorderSettingsForm.getItem("baseUrl").setDefaultValue(_2)}
return true},isc.A.initWidget=function isc_SeleneseRecorder_initWidget(){this.Super("initWidget",arguments);this.createScriptLoaderDS();var _1={includeOpen:false,insertWaitFor:false};this.addAutoChild("dataSource");if(this.crossWindow&&this.eventStream){this.logWarn("passing in your own click stream in cross-window mode is not supported; the recorder will run locally against your stream");this.crossWindow=null}
this.createRecorderSettingsWindow();var _2=[this];if(this.widgetsToIgnore)_2.addList(this.widgetsToIgnore);if(this.eventStream)this.eventStream.addWidgetsToIgnore(_2);else this.addAutoChild("eventStream",this.crossWindow?{_constructor:"EventStreamRemoteProxy"}:{widgetsToIgnore:_2});this.setOpenURL();this.addAutoChild("usageLabel");this.addAutoChild("commandGrid",{captureSettings:_1,eventStream:this.eventStream,dataSource:this.dataSource});this.addAutoChild("recorderControls");if(this.minBreadthMember==null&&this.sizeToControlsOverflow){this.minBreadthMember=this.recorderControls}},isc.A.drawn=function isc_SeleneseRecorder_drawn(){this.setRunMode("idle")},isc.A.beginDialogInteraction=function isc_SeleneseRecorder_beginDialogInteraction(){if(!this.crossWindow&&this.recorderControls.getValue("capture")){this.eventStream.end()}},isc.A.endDialogInteraction=function isc_SeleneseRecorder_endDialogInteraction(){if(!this.crossWindow&&this.recorderControls.getValue("capture")){this.eventStream.start(true)}},isc.A.openMassEditWindow=function isc_SeleneseRecorder_openMassEditWindow(){var _1=this.massEditWindow;if(_1==null||_1.destroyed){_1=this.massEditWindow=this.createAutoChild("massEditWindow",{bodyProperties:{layoutMargin:5}})}
var _2=this.massEditForm;if(_2==null||_2.destroyed){_2=this.massEditForm=this.createAutoChild("massEditForm",{dataSource:this.dataSource})}
_1.addItem(_2);_1.show()},isc.A.camelToKebabCase=function isc_SeleneseRecorder_camelToKebabCase(_1){return _1.replace(/([a-z])([A-Z])/g,function(_2,_3,_4){return _3+"-"+_4.toLowerCase()}).replace(/[A-Z]/g,function(_2){return _2.toLowerCase()})},isc.A.getFieldToHtmlAttributeMap=function isc_SeleneseRecorder_getFieldToHtmlAttributeMap(){var _1={},_2=this.dataSource.getFields();for(var _3 in _2){var _4=_2[_3];if(_4.xmlAttribute){_1[_3]="data-isc-"+this.camelToKebabCase(_3)}}
return _1},isc.A.openHtmlTableRowTag=function isc_SeleneseRecorder_openHtmlTableRowTag(_1,_2,_3){_3.append("<tr");var _4=0;for(var _5 in _2){if(_1[_5]==null)continue;_3.append(_4++>0?"\n\t":" ");_3.append(_2[_5],"=\"",_1[_5],"\"")}
if(_4>1)_3.append("\n");_3.append(">\n")},isc.A.exportScript=function isc_SeleneseRecorder_exportScript(){var _1=isc.StringBuffer.create(),_2=this.recorderControls.getValue("testname"),_3=this.htmlExportHeader.evalDynamicString(this,{testname:_2});_1.append(_3);var _4=this.getFieldToHtmlAttributeMap();var _5=this.commandGrid.data;for(var i=0;i<_5.length;i++){var _7=_5[i];if(_7.description){_1.append("<!-- ",_7.description," -->\n")}
this.openHtmlTableRowTag(_7,_4,_1);_1.append("\t<td>",_7.commandName,"</td>\n","\t<td>",_7.argument1,"</td>\n","\t<td>",_7.argument2,"</td>\n","</tr>\n")}
_1.append(this.htmlExportFooter);isc.DataSourceNavigator.downloadClientContent(_1.release(),_2+".rctest.html","text/html")},isc.A.getCommandDefaults=function isc_SeleneseRecorder_getCommandDefaults(){return this.dataSource.fieldDefaults},isc.A.canonicalizeCommand=function isc_SeleneseRecorder_canonicalizeCommand(_1){this.dataSource.canonicalizeRecord(_1)},isc.A.createRecorderSettingsWindow=function isc_SeleneseRecorder_createRecorderSettingsWindow(){this.recorderSettingsForm=this.createAutoChild("recorderSettingsForm",{dataSource:this.dataSource});this.recorderSettingsWindow=this.createAutoChild("recorderSettingsWindow",{items:this.recorderSettingsForm})},isc.A.isLoaded=function isc_SeleneseRecorder_isLoaded(){var _1=this.getRuleContext();return _1.isScriptLoaded},isc.A.isPaused=function isc_SeleneseRecorder_isPaused(){var _1=this.getRuleContext();return _1.scriptRunMode=="paused"},isc.A.isRunning=function isc_SeleneseRecorder_isRunning(){var _1=this.getRuleContext();return _1.scriptRunMode=="running"},isc.A.getRunMode=function isc_SeleneseRecorder_getRunMode(){var _1=this.getRuleContext();return _1.scriptRunMode},isc.A.setupReport=function isc_SeleneseRecorder_setupReport(){this.provideRuleContext("hasReport",true);this.recorderControls.refreshReportStatus()},isc.A.clearReport=function isc_SeleneseRecorder_clearReport(){this.provideRuleContext("hasReport",false);this.recorderControls.refreshReportStatus()},isc.A.hasReport=function isc_SeleneseRecorder_hasReport(){var _1=this.getRuleContext();return _1.hasReport},isc.A.setRunMode=function isc_SeleneseRecorder_setRunMode(_1){switch(_1){case"idle":case"paused":this.commandGrid.configureForEditing();break;default:this.commandGrid.configureForRunning()}
var _2=this.recorderControls.getItem("selenese");_2.setEnabled(!_1||_1=="idle");this.provideRuleContext("scriptRunMode",_1)},isc.A.canRun=function isc_SeleneseRecorder_canRun(){var _1=this.getRuleContext();return _1.scriptRunMode=="ready"||_1.scriptRunMode=="paused"},isc.A.canEdit=function isc_SeleneseRecorder_canEdit(){var _1=this.getRunMode();return _1=="idle"||_1=="paused"},isc.A.load=function isc_SeleneseRecorder_load(_1){this.$102q(!this.isLoaded()&&this.getRunMode()=="idle");this.commandGrid.setData(_1.commands)},isc.A.drop=function isc_SeleneseRecorder_drop(){this.$102q(!this.isLoaded()||this.getRunMode()=="idle");this.commandGrid.setData([]);this.clearReport()},isc.A.resetStream=function isc_SeleneseRecorder_resetStream(){if(!this.recorderSettingsForm.getValue("resetStream"))return;var _1=this.eventStream,_2=this.recorderControls.getValue("capture");if(_2)_1.end(),_1.start();else _1.start(),_1.end()},isc.A.reconnect=function isc_SeleneseRecorder_reconnect(){var _1=this;this.eventStream.registerRemote(function(_2){if(_2){_1.setOpenURL();_1.commandGrid.observeStream(true)}})},isc.A.updateRunModeFromData=function isc_SeleneseRecorder_updateRunModeFromData(_1){var _2=_1&&_1.length>0;if(!this.recorderControls){return}
this.provideRuleContext("isScriptLoaded",_2);if(this.getRunMode()!="idle"&&!_2)this.stop()},isc.A.setupRunContext=function isc_SeleneseRecorder_setupRunContext(){this.commandGrid.clearTestResults();this.startTime=new Date();this.failureCount=0;this.errorCount=0;this.clearReport()},isc.A.start=function isc_SeleneseRecorder_start(){this.$102q(this.isLoaded()&&this.getRunMode()=="idle");this.setRunMode("starting");this.setupRunContext();var _1=this;this.callPlayerDMI("openSeleneseSession",[this.recorderSettingsForm.getValue("browser")],function(_2,_3,_4){if(_2.status==0){if(isc.Browser.isSGWT&&window.SmartGWT.isNativeJavaObject(_3)){_3=window.SmartGWT.convertToPrimitiveType(_3)}
_1.commandGrid.initCurrentCommand();_1.setRunMode("ready");_1.sessionId=_3;if(_1.delayedStop)_1.stop();else _1.run()}else{isc.notify("Unable to open a Selenese session on the server.  Check your server or client logs for further details.");_1.recorderControls.getItem("runButton").setTitle("Run");_1.setRunMode("idle");_1.logWarn(_3)}
delete _1.delayedStop})},isc.A.run=function isc_SeleneseRecorder_run(){this.$102q(this.sessionId!=null&&this.canRun());var _1=this.commandGrid;var _2=_1.findCurrentCommand();if(!_2)return this.stop();var _3=this.expandCommandFlags(_2);var _4=this.isPaused();this.setRunMode("running");var _5=this;this.callPlayerDMI("executeSelenese",[this.sessionId,_3,{baseUrl:this.recorderSettingsForm.getValue("baseUrl"),maximize:!!this.recorderSettingsForm.getValue("maximize"),waitForWait:this.recorderSettingsForm.getValue("waitForWait"),implicitWait:this.recorderSettingsForm.getValue("implicitWait")}],function(_7,_8,_9){if(_7.status==0){_5.setRunMode(_4?"paused":"ready");var _6=_5.handleResult(_2,_8);_5.next(_2,_6)}else{_5.$250g();_5.handleError(_2,_8);isc.notify("Hit an error trying to execute the current Selenese command.  Check your server or client logs for further details.");_5.logWarn(_8)}})},isc.A.runOrWait=function isc_SeleneseRecorder_runOrWait(){var _1=this.recorderSettingsForm.getValue("executeWait");if(!_1){return this.run()}
var _2=this;this.$2476=isc.Timer.setTimeout(function(){delete _2.$2476;_2.run()},_1)},isc.A.clearPendingRun=function isc_SeleneseRecorder_clearPendingRun(){var _1=this.$2476;if(_1)isc.Timer.clear(_1);delete this.$2476},isc.A.handleError=function isc_SeleneseRecorder_handleError(_1,_2){return this.commandGrid.handleError(_1,_2)},isc.A.handleResult=function isc_SeleneseRecorder_handleResult(_1,_2){return this.commandGrid.handleResult(_1,_2)},isc.A.getScriptName=function isc_SeleneseRecorder_getScriptName(){return this.recorderControls.getValues().scriptName},isc.A.createReport=function isc_SeleneseRecorder_createReport(){var _1=this.getScriptName();var _2=this.commandGrid,_3="\n"+_2.getOutput(),_4=_2.getFailures(),_5=_2.getErrors();var _6=this.errorCount>0,_7=this.failureCount>0;var _8={tests:1,errors:_6?1:0,failures:_7?1:0,testcase:{name:_1,time:this.startTime,status:_7||_6?"failure":"success","system-out":_3,failure:_4,error:_5}};var _9=_1+".report.xml",_10=isc.DS.get("$247q"),_11=this.jUnitXMLHeader+_10.xmlSerialize(_8,null,"    ")+this.jUnitXMLFooter;if(this.recorderSettingsForm.getValue("saveReport")){isc.DataSourceNavigator.downloadClientContent(_11,_9,"text/xml")}else{this.commandGrid.showContent(this.testReportWindowTitle,_11)}},isc.A.next=function isc_SeleneseRecorder_next(_1,_2){var _3=this.delayedStop,_4=this.delayedPause;delete this.delayedStop,delete this.delayedPause;var _5;if(!_2)switch(this.getOnFailureSetting(_1)){case"retry":var _6=this.recorderSettingsForm.getValue("maxRetries");if(_1.failureCount<_6){_5=_1;break}
case"stop":_3=true;break}else{if(_1.failureCount)_1.$250f=true}
var _7=this.commandGrid;if(!_5){if(_1.failureCount&&!_1.$250f){this.failureCount++}
_5=_7.stepToNextCommand();if(!_5)_3=true}
if(_7.isBreakpoint(_5))_4=true;if(_3)this.stop();else if(_4)this.pause();else if(!this.isPaused())this.runOrWait()},isc.A.pause=function isc_SeleneseRecorder_pause(){if(this.isRunning()){this.delayedPause=true;return}
this.$102q(this.isLoaded()&&this.getRunMode()=="ready");this.recorderControls.getItem("runButton").setTitle("Go");this.setRunMode("paused");this.clearPendingRun()},isc.A.go=function isc_SeleneseRecorder_go(){if(this.isRunning()){this.delayedGo=true;return}
this.$102q(this.isLoaded()&&this.getRunMode()=="paused");this.setRunMode("ready");this.run()},isc.A.stop=function isc_SeleneseRecorder_stop(){switch(this.getRunMode()){case"running":case"starting":this.delayedStop=true;return;case"stopping":return}
this.$102q(this.sessionId!=null&&this.canRun());this.setRunMode("stopping");this.clearPendingRun();var _1=this;this.callPlayerDMI("closeSeleneseSession",[this.sessionId],function(_2,_3,_4){if(_2.status!=0){isc.notify("Hit an error trying to close the Selenese session.  Check your server or client logs for further details.");_1.logWarn(_3)}
_1.$250g()})},isc.A.$250g=function isc_SeleneseRecorder__stopped(){this.recorderControls.getItem("runButton").setTitle("Run");this.setRunMode("idle");this.setupReport();delete this.session;delete this.delayedStop},isc.A.getOnFailureSetting=function isc_SeleneseRecorder_getOnFailureSetting(_1){if(_1&&_1.onFailure)return _1.onFailure;return this.recorderSettingsForm.getValue("onFailure")},isc.A.getAddWaitForSetting=function isc_SeleneseRecorder_getAddWaitForSetting(_1){if(_1&&_1.waitFor==true)return _1.waitFor;return this.recorderSettingsForm.getValue("waitFor")},isc.A.getCleanServerCommand=function isc_SeleneseRecorder_getCleanServerCommand(_1){var _2={},_3=isc.SeleneseRecorder.serverCommandProps;for(var i=0;i<_3.length;i++){var _5=_3[i];if(_1[_5]!=null)_2[_5]=_1[_5]}
return _2},isc.A.expandCommandFlags=function isc_SeleneseRecorder_expandCommandFlags(_1){var _2=[],_3=_1.commandName,_4=this.getAddWaitForSetting(_1);if(_4&&!_3.startsWith("waitFor")){var _5=_1.argument1,_6=_1.argument2;if(_3.match(/keys|type/i)){if(_5&&_5.startsWith("scLocator=")){_2.add({commandName:"waitForElementReadyForKeyPresses",argument1:_5})}}else{if(_5&&_5.startsWith("scLocator=")){_2.add({commandName:"waitForElementClickable",argument1:_1.argument1})}
if(_6&&_6.startsWith("scLocator=")){_2.add({commandName:"waitForElementClickable",argument1:_6})}}}
_1=this.getCleanServerCommand(_1);if(_1.screenshot==null){_1.screenshot=this.recorderSettingsForm.getValue("screenshot")}
_2.add(_1);return _2},isc.A.createScriptLoaderDS=function isc_SeleneseRecorder_createScriptLoaderDS(){var _1=isc.DS.get("scriptLoader");if(!_1)isc.DS.create({ID:"scriptLoader",serverType:"SQL",fields:[{name:"id",primaryKey:true},{name:"selenese",type:"binary"}]})},isc.A.callPlayerDMI=function isc_SeleneseRecorder_callPlayerDMI(_1,_2,_3){var _4=this.seleneseRunnerActionURL;isc.DMI.call({appID:"SelenesePlayer",className:"com.isomorphic.webdriver.SelenesePlayer",methodName:_1,arguments:_2,callback:_3,requestParams:{showPrompt:false,actionURL:_4,willHandleError:true,useHttpProxy:!!_4,clientLogContext:_1}})},isc.A.downloadScreenshot=function isc_SeleneseRecorder_downloadScreenshot(_1,_2){var _3=!!this.recorderSettingsForm.getValue("saveScreenshot"),_4=this.seleneseRunnerActionURL;isc.DMI.call({appID:"SelenesePlayer",className:"com.isomorphic.tools.SeleneseRPC",methodName:"downloadScreenshot",arguments:[_1,_2,_3],requestParams:{showPrompt:false,willHandleError:true,downloadResult:true,actionURL:_4,useHttpProxy:!!_4,download_filename:this.crossWindow?null:_2,downloadToNewWindow:!_3,clientLogContext:"downloadScreenshot"}})});isc.B._maxIndex=isc.C+50;isc.A=isc.SeleneseRecorder;isc.A.serverCommandProps=["commandName","argument1","argument2","screenshot"];isc.defineClass("SeleneseRecorderSettings","DynamicForm");isc.A=isc.SeleneseRecorderSettings.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.width="100%";isc.A.height="100%";isc.A.wrapItemTitles=false;isc.A.colWidths=[175,"*"];isc.A.items=[{name:"baseUrl",title:"Base URL for Open",width:"100%"},{name:"browser",title:"Playback Browser",defaultToFirstOption:true,valueMap:{firefox:"Mozilla Firefox",chrome:"Google Chrome",edge:"Microsoft Edge",ie11:"Internet Explorer"}},{name:"implicitWait",title:"WebDriver Implicit Wait",type:"integer",hint:"(ms)",defaultValue:5000},{name:"waitForWait",title:"WaitFor[...] Timeout",type:"integer",hint:"(sec)",defaultValue:30},{name:"executeWait",title:"Delay After Command",type:"integer",hint:"(ms)",defaultValue:0},{name:"maxRetries",title:"Max Retry Attempts",type:"integer",defaultValue:3},{name:"onFailure",title:"Default Action on Failure",defaultValue:"stop"},{name:"screenshot",title:"Take Screenshot by Default",allowEmptyValue:true},{name:"waitFor",title:"Add WaitFor[...] by Default"},{name:"maximize",title:"Maximize Browser by Default",type:"boolean"},{name:"saveReport",title:"Save Test Report as Download",type:"boolean",defaultValue:true},{name:"saveScreenshot",title:"Save Screenshot as Download",type:"boolean"},{name:"resetStream",title:"Clear button resets stream",type:"boolean",prompt:"All events from the target window stream will also be dropped when the current Selenese command script is dropped via the 'clear' button."},{editorType:"ButtonItem",title:"Reset",endRow:false,click:function(_1,_2){_1.clearValues()}},{editorType:"ButtonItem",title:"Done",startRow:false,align:"right",click:function(_1,_2){_1.close()}}];isc.B.push(isc.A.close=function isc_SeleneseRecorderSettings_close(){this.creator.recorderSettingsWindow.close()});isc.B._maxIndex=isc.C+1;isc.DataSource.create({ID:"$247z",clientOnly:true,fields:[{name:"message",xmlAttribute:true},{name:"type",xmlAttribute:true}],xmlSerializeFields:function(_1,_2,_3){return _2.indent==false?_1.value:"\n"+_3+_1.value}});isc.DataSource.create({ID:"$2470",clientOnly:true,fields:[{name:"message",xmlAttribute:true},{name:"type",xmlAttribute:true}],xmlSerializeFields:function(_1,_2,_3){return _2.indent==false?_1.value:"\n"+_3+_1.value}});isc.DataSource.create({ID:"$2471",clientOnly:true,fields:[{name:"assertions",xmlAttribute:true},{name:"classname",xmlAttribute:true},{name:"name",xmlAttribute:true},{name:"status",xmlAttribute:true},{name:"time",type:"datetime",xmlAttribute:true},{name:"skipped"},{name:"error",type:"$247z"},{name:"failure",type:"$2470"},{name:"system-out"},{name:"system-err"}]});isc.DataSource.create({ID:"$2472",tagName:"property",clientOnly:true,fields:[{name:"name",xmlAttribute:true},{name:"value",xmlAttribute:true}]});isc.DataSource.create({ID:"$247q",tagName:"testsuite",clientOnly:true,fields:[{name:"disabled",type:"boolean",xmlAttribute:true},{name:"errors",xmlAttribute:true},{name:"failures",xmlAttribute:true},{name:"hostname",xmlAttribute:true},{name:"id",xmlAttribute:true},{name:"package",xmlAttribute:true},{name:"skipped",xmlAttribute:true},{name:"tests",xmlAttribute:true},{name:"time",type:"datetime",xmlAttribute:true},{name:"timestamp",xmlAttribute:true},{name:"properties",multiple:true,type:"$2472"},{name:"testcase",type:"$2471"},{name:"system-out"},{name:"system-err"}]});isc._nonDebugModules=(isc._nonDebugModules!=null?isc._nonDebugModules:[]);isc._nonDebugModules.push('AutoTestUI');isc.checkForDebugAndNonDebugModules();isc._moduleEnd=isc._AutoTestUI_end=(isc.timestamp?isc.timestamp():new Date().getTime());if(isc.Log&&isc.Log.logIsInfoEnabled('loadTime'))isc.Log.logInfo('AutoTestUI module init time: '+(isc._moduleEnd-isc._moduleStart)+'ms','loadTime');delete isc.definingFramework;if(isc.Page)isc.Page.handleEvent(null,"moduleLoaded",{moduleName:'AutoTestUI',loadTime:(isc._moduleEnd-isc._moduleStart)});}else{if(window.isc&&isc.Log&&isc.Log.logWarn)isc.Log.logWarn("Duplicate load of module 'AutoTestUI'.");}
