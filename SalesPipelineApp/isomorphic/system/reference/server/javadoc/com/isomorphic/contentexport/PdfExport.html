<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>PdfExport (SmartClient Enterprise Server API 14.1p (2025-06-14))</title> <meta name="date" content="2025-06-14"> <link rel="stylesheet" type="text/css" href="../../../stylesheet_custom.css" title="Style"> <script type="text/javascript" src="../../../script.js"></script> </head> <body> <script type="text/javascript">try{if(location.href.indexOf("is-external=true")==-1){parent.document.title="PdfExport (SmartClient Enterprise Server API 14.1p (2025-06-14))"}}catch(err){}var methods={i0:10,i1:10};var tabs={65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};var altColor="altColor";var rowColor="rowColor";var tableTab="tableTab";var activeTableTab="activeTableTab";</script> <noscript> <div>JavaScript is disabled on your browser.</div> </noscript> <div class="topNav"><a name="navbar.top"> </a> <div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div> <a name="navbar.top.firstrow"> </a> <ul class="navList" title="Navigation"> <li><a href="../../../overview-summary.html">Overview</a></li> <li><a href="package-summary.html">Package</a></li> <li class="navBarCell1Rev">Class</li> <li><a href="package-tree.html">Tree</a></li> <li><a href="../../../deprecated-list.html">Deprecated</a></li> <li><a href="../../../index-all.html">Index</a></li> <li><a href="../../../help-doc.html">Help</a></li> </ul> </div> <div class="subNav"> <ul class="navList"> <li><a href="../../../com/isomorphic/contentexport/ImageExport.html" title="class in com.isomorphic.contentexport"><span class="typeNameLink">Prev&nbsp;Class</span></a></li> <li>Next&nbsp;Class</li> </ul> <ul class="navList"> <li><a href="../../../index.html?com/isomorphic/contentexport/PdfExport.html" target="_top">Frames</a></li> <li><a href="PdfExport.html" target="_top">No&nbsp;Frames</a></li> </ul> <ul class="navList" id="allclasses_navbar_top"> <li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li> </ul> <div> <script type="text/javascript">allClassesLink=document.getElementById("allclasses_navbar_top");if(window==top){allClassesLink.style.display="block"}else{allClassesLink.style.display="none"};</script> </div> <div> <ul class="subNavList"> <li>Summary:&nbsp;</li> <li>Nested&nbsp;|&nbsp;</li> <li>Field&nbsp;|&nbsp;</li> <li>Constr&nbsp;|&nbsp;</li> <li><a href="#method.summary">Method</a></li> </ul> <ul class="subNavList"> <li>Detail:&nbsp;</li> <li>Field&nbsp;|&nbsp;</li> <li>Constr&nbsp;|&nbsp;</li> <li><a href="#method.detail">Method</a></li> </ul> </div> <a name="skip.navbar.top"> </a></div> <div class="header"> <div class="subTitle">com.isomorphic.contentexport</div> <h2 title="Class PdfExport" class="title">Class PdfExport</h2> </div> <div class="contentContainer"> <ul class="inheritance"> <li>java.lang.Object</li> <li> <ul class="inheritance"> <li><a href="../../../com/isomorphic/base/Base.html" title="class in com.isomorphic.base">com.isomorphic.base.Base</a></li> <li> <ul class="inheritance"> <li>com.isomorphic.contentexport.PdfExport</li> </ul> </li> </ul> </li> </ul> <div class="description"> <ul class="blockList"> <li class="blockList"> <dl> <dt>All Implemented Interfaces:</dt> <dd><a href="../../../com/isomorphic/rpc/IPdfExporter.html" title="interface in com.isomorphic.rpc">IPdfExporter</a></dd> </dl> <hr> <br> <pre>public class <span class="typeNameLabel">PdfExport</span>
extends <a href="../../../com/isomorphic/base/Base.html" title="class in com.isomorphic.base">Base</a>
implements <a href="../../../com/isomorphic/rpc/IPdfExporter.html" title="interface in com.isomorphic.rpc">IPdfExporter</a></pre> </li> </ul> </div> <div class="summary"> <ul class="blockList"> <li class="blockList"> <ul class="blockList"> <li class="blockList"><a name="method.summary"> </a> <h3>Method Summary</h3> <table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation"> <caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption> <tr> <th class="colFirst" scope="col">Modifier and Type</th> <th class="colLast" scope="col">Method and Description</th> </tr> <tr id="i0" class="altColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/contentexport/PdfExport.html#getPdfObject-java.lang.String-java.util.Map-HttpServletResponse-com.isomorphic.rpc.RPCManager-">getPdfObject</a></span>(java.lang.String&nbsp;html, java.util.Map&nbsp;settings, HttpServletResponse&nbsp;response, <a href="../../../com/isomorphic/rpc/RPCManager.html" title="class in com.isomorphic.rpc">RPCManager</a>&nbsp;rpc)</code> <div class="block">Converts the provided HTML to a PDF object and streams the response back to the browser as the response to an RPCRequest/DSRequest.</div> </td> </tr> <tr id="i1" class="rowColor"> <td class="colFirst"><code>ITextRenderer</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/contentexport/PdfExport.html#getPdfRenderer-java.lang.String-java.util.Map-">getPdfRenderer</a></span>(java.lang.String&nbsp;html, java.util.Map&nbsp;settings)</code> <div class="block">Method to create an ITextRenderer object ready to generate a PDF object.</div> </td> </tr> </table> </li> </ul> </li> </ul> </div> <div class="details"> <ul class="blockList"> <li class="blockList"> <ul class="blockList"> <li class="blockList"><a name="method.detail"> </a> <h3>Method Detail</h3> <a name="getPdfObject-java.lang.String-java.util.Map-HttpServletResponse-com.isomorphic.rpc.RPCManager-"> </a> <ul class="blockList"> <li class="blockList"> <h4>getPdfObject</h4> <pre>public&nbsp;void&nbsp;getPdfObject(java.lang.String&nbsp;html,
                         java.util.Map&nbsp;settings,
                         HttpServletResponse&nbsp;response,
                         <a href="../../../com/isomorphic/rpc/RPCManager.html" title="class in com.isomorphic.rpc">RPCManager</a>&nbsp;rpc)
                  throws java.lang.Exception</pre> <div class="block">Converts the provided HTML to a PDF object and streams the response back to the browser as the response to an RPCRequest/DSRequest. <P> For additional methods, including the ability to generate a .pdf that be saved to a database or emailed rather than streamed to the client, see <a href="../../../com/isomorphic/contentexport/PdfExport.html#getPdfRenderer-java.lang.String-java.util.Map-"><code>PdfExport.getPdfRenderer(String, Map)</code></a> <P> When the provided HTML contains &lt;img&gt; tags, such as when an Img widget is to be included in the PDF export, SmartClient Server Framework needs to be able to download the image for inclusion in the PDF. If images are not appearing in an exported PDF, examine the server's log output for information on why an image request failed. Common ResourceLoader errors include: <ul> <li><code>Failed to download http://MY_HOST:PORT/SOME_IMAGE.png: java.net.ConnectException: Connection refused</code> <p>The server was unable to connect to the server at MY_HOST:PORT. <p>One possible cause is that the server is not bound on all addresses (also called "listening on all addresses"). If you are using JBoss, refer to <a href="https://community.jboss.org/wiki/configureserverports">ConfigureServerPorts</a> for more information on JBoss' <code>-b</code> command line option. When developing within Eclipse and deploying to the internal Web Server, try using the <code>-bindAddress 0.0.0.0</code> <a href="https://developers.google.com/web-toolkit/doc/latest/DevGuideCompilingAndDebugging#What_options_can_be_passed_to_development_mode">Development Mode option</a>. <p>Another possible cause is that port forwarding is not set up correctly or the <a href="http://docs.oracle.com/javase/6/docs/technotes/guides/net/proxies.html">Java networking API's proxy settings</a> need to be configured.</li> <li><code>Failed to download http://SOME_HOST/PROTECTED_RESOURCE.png: java.io.IOException: Server returned HTTP response code: 401</code> <p>The server responded with a 401 Unauthorized response code. <p>The SOME_HOST server is requiring authorization, but needs to pass through requests made by the SmartClient Server Framework.</li> <li><code>Failed to download http://SOME_HOST/SOME_IMAGE.png: java.io.IOException: Server returned HTTP response code: 404</code> <p>The SOME_HOST server responded with a 404 Not Found response code. <p>This may happen if requests for the image need to go through a reverse proxy. Refer to <a href="http://docs.oracle.com/javase/6/docs/technotes/guides/net/proxies.html">http://docs.oracle.com/javase/6/docs/technotes/guides/net/proxies.html</a> for a guide on configuring the Java networking API's proxy settings.</li> </ul></div> <dl> <dt><span class="overrideSpecifyLabel">Specified by:</span></dt> <dd><code><a href="../../../com/isomorphic/rpc/IPdfExporter.html#getPdfObject-java.lang.String-java.util.Map-HttpServletResponse-com.isomorphic.rpc.RPCManager-">getPdfObject</a></code>&nbsp;in interface&nbsp;<code><a href="../../../com/isomorphic/rpc/IPdfExporter.html" title="interface in com.isomorphic.rpc">IPdfExporter</a></code></dd> <dt><span class="paramLabel">Parameters:</span></dt> <dd><code>html</code> - generated html from client-side</dd> <dd><code>settings</code> - map of parameters</dd> <dd><code>response</code> - in this parameter we send the answer</dd> <dd><code>rpc</code> - our RPCManager parameter</dd> <dt><span class="throwsLabel">Throws:</span></dt> <dd><code>java.lang.Exception</code></dd> </dl> </li> </ul> <a name="getPdfRenderer-java.lang.String-java.util.Map-"> </a> <ul class="blockListLast"> <li class="blockList"> <h4>getPdfRenderer</h4> <pre>public&nbsp;ITextRenderer&nbsp;getPdfRenderer(java.lang.String&nbsp;html,
                                    java.util.Map&nbsp;settings)
                             throws java.lang.Exception</pre> <div class="block">Method to create an ITextRenderer object ready to generate a PDF object. With the ITextRenderer object, you can use any OutputStream object to generate a PDF object, eg.: To generate a PDF file from this ITextRenderer object, you can make: <br> server-side: <pre>
 public String generatePdf(DSRequest request) {
     String response = "Operation completed successfully";
     try {
         Map data = request.getValues();
         Map settings = new HashMap();
         settings.put("skinName", data.get("skinName").toString());
         String dirServer = "/shared/directoryPdf/";
         String fileName = "default";
         String outputFile = dirServer+fileName+".pdf";
         OutputStream outputSream = new FileOutputStream(outputFile);
         PdfExport export = new PdfExport();
         ITextRenderer renderer = export.getPdfRenderer(data.get("html").toString(), settings);
         renderer.createPDF(outputSream);
         outputSream.close();
     }catch (Exception e) {
         e.printStackTrace();
         response = e.getMessage();
     }
     return response;
 }
 </pre> You can use DataSource.performCustomOperation() in client-side to invoke your custom method in server-side, eg.: <pre>
 ...........
 vLayout.getPrintHTML(null, new PrintHTMLCallback(){
     public void setHTML(String html) {
         DSRequest request = new DSRequest();
         LinkedHashMap data = new LinkedHashMap();
         data.put("html", html);
         data.put("skinName", "Enterprise");
         request.setData(data);
         ds.performCustomOperation("generatePdf", new Record(), new DSCallback() {
             public void execute(DSResponse response, Object rawData, DSRequest request) {
                 SC.say((String)rawData);
             }
         }, request);
     }
 });
 </pre> and the .ds.xml DataSource would be something like this: <pre>
 <code>
 &lt;DataSource ID="supplyItem&gt;
 &lt;fields&gt;
     ..........
 &lt;/fields&gt;
 &lt;operationBindings&gt;
     &lt;operationBinding operationId="generatePdf" operationType="custom" serverMethod="generatePdf"&gt;
         &lt;serverObject lookupStyle="new" className="com.smartgwt.sample.server.CustomOperation"/&gt;
     &lt;/operationBinding&gt;
 &lt;/operationBindings&gt;
 &lt;/DataSource&gt;
 </code>
 </pre> <P> If required, it is possible to use an extra stylesheet. To make the extra stylesheet available for this process, follow these steps: <br> 1.- In server.properties, set:<br> skin.[skinName].extraStyleSheet: path/to/stylesheet/[extraStyleSheet.css]<br> Eg.: skin.Enterprise.extraStyleSheet: dirSkins/mySkins/myStyleSheet.css<br> The dirSkins/ folder must be placed under webroot.<br> 2.- When using images within the extra stylesheet, these images must be placed in, for example:<br> - dirSkins/mySkins/images/picture1.png (as in the previous example)<br> Or, when these images are in a different folder other than the extra stylesheet:<br> - myCustomImages/48x48/picture1.png (The myCustomImages/ folder must be placed under webroot) <P> <b>- Internationalization and Fonts with PDFs and iText</b> <P> When you are displaying HTML content in the browser, and you use non-Latin Unicode characters such as Japanese characters or Cyrillic letters, web browsers will automatically locate and use a font that includes these characters. <P> PDF generation doesn't work this way. When you declare in CSS that text content in your HTML is rendered with a certain font-family, that font-family is what iText will use, even if the font file for that font-family has no support for some of the characters in your text. Unfortunately, the default font files included with iText for Arial and other common web fonts do not include support for many non-Latin characters, including Cyrillic and CJK (Chinese Japanese Korean) characters. <P> To get around this problem, you need to provide a font file that has support for international characters, and explicitly tell iText to use it. For example, the ARIALUNI.TFF file that exists in standard Windows installations has a font-family "Arial Unicode MS" with support for all Unicode 2.0 characters. <P> To use this file, you would provide an extraStyleSheet with a declaration like this: <pre>
 &#64;font-face {
     font-family: 'Arial Unicode MS';
     src: url('fonts/ARIALUNI.TTF');
 }
 </pre> Place the font file in the "fonts" directory under the directory where the extra stylesheet is located. <P> Your extraStyleSheet can then declare "Arial Unicode MS" as the font family to use wherever Unicode characters may appear, for example, a declaration like this won't cause "Arial Unicode MS" to be used for all ListGrid cell content: <pre>
 .cell,
 .cellDark,
 ... several other variants ...
 .cellDisabledDark {
     font-family:"Arial Unicode MS";
 }
 </pre> Typically however, Unicode characters may appear anywhere in your application. A full solution is to take the skin_styles.css file for the skin you are using and do a search-and-replace across the entire file, prefixing all font-family declarations with a font-family that covers Unicode characters. Then use the resulting file as your extraStylesheet. <P> How to obtain and license appropriate font files is out of the scope of this document, but the following website has extensive information about fonts that support Unicode, including free options:<br> <a href="http://www.alanwood.net/unicode/fonts.html">http://www.alanwood.net/unicode/fonts.html</a></div> <dl> <dt><span class="paramLabel">Parameters:</span></dt> <dd><code>html</code> - generated html from client-side</dd> <dd><code>settings</code> - map of parameters</dd> <dt><span class="returnLabel">Returns:</span></dt> <dd>ITextRenderer</dd> <dt><span class="throwsLabel">Throws:</span></dt> <dd><code>java.lang.Exception</code></dd> </dl> </li> </ul> </li> </ul> </li> </ul> </div> </div> <div class="bottomNav"><a name="navbar.bottom"> </a> <div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div> <a name="navbar.bottom.firstrow"> </a> <ul class="navList" title="Navigation"> <li><a href="../../../overview-summary.html">Overview</a></li> <li><a href="package-summary.html">Package</a></li> <li class="navBarCell1Rev">Class</li> <li><a href="package-tree.html">Tree</a></li> <li><a href="../../../deprecated-list.html">Deprecated</a></li> <li><a href="../../../index-all.html">Index</a></li> <li><a href="../../../help-doc.html">Help</a></li> </ul> </div> <div class="subNav"> <ul class="navList"> <li><a href="../../../com/isomorphic/contentexport/ImageExport.html" title="class in com.isomorphic.contentexport"><span class="typeNameLink">Prev&nbsp;Class</span></a></li> <li>Next&nbsp;Class</li> </ul> <ul class="navList"> <li><a href="../../../index.html?com/isomorphic/contentexport/PdfExport.html" target="_top">Frames</a></li> <li><a href="PdfExport.html" target="_top">No&nbsp;Frames</a></li> </ul> <ul class="navList" id="allclasses_navbar_bottom"> <li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li> </ul> <div> <script type="text/javascript">allClassesLink=document.getElementById("allclasses_navbar_bottom");if(window==top){allClassesLink.style.display="block"}else{allClassesLink.style.display="none"};</script> </div> <div> <ul class="subNavList"> <li>Summary:&nbsp;</li> <li>Nested&nbsp;|&nbsp;</li> <li>Field&nbsp;|&nbsp;</li> <li>Constr&nbsp;|&nbsp;</li> <li><a href="#method.summary">Method</a></li> </ul> <ul class="subNavList"> <li>Detail:&nbsp;</li> <li>Field&nbsp;|&nbsp;</li> <li>Constr&nbsp;|&nbsp;</li> <li><a href="#method.detail">Method</a></li> </ul> </div> <a name="skip.navbar.bottom"> </a></div> </body> </html>