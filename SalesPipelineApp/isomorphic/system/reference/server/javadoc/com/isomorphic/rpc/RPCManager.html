<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>RPCManager (SmartClient Enterprise Server API 14.1p (2025-06-14))</title> <meta name="date" content="2025-06-14"> <link rel="stylesheet" type="text/css" href="../../../stylesheet_custom.css" title="Style"> <script type="text/javascript" src="../../../script.js"></script> </head> <body> <script type="text/javascript">try{if(location.href.indexOf("is-external=true")==-1){parent.document.title="RPCManager (SmartClient Enterprise Server API 14.1p (2025-06-14))"}}catch(err){}var methods={i0:10,i1:10,i2:10,i3:10,i4:10,i5:10,i6:10,i7:10,i8:10,i9:10,i10:10,i11:10,i12:10,i13:10,i14:10,i15:9,i16:9,i17:9,i18:10,i19:10,i20:10,i21:10,i22:10,i23:10,i24:10,i25:10,i26:10,i27:10,i28:10,i29:10,i30:10,i31:10,i32:10,i33:10,i34:10,i35:10,i36:10,i37:10,i38:10,i39:10,i40:10,i41:10,i42:10,i43:10};var tabs={65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};var altColor="altColor";var rowColor="rowColor";var tableTab="tableTab";var activeTableTab="activeTableTab";</script> <noscript> <div>JavaScript is disabled on your browser.</div> </noscript> <div class="topNav"><a name="navbar.top"> </a> <div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div> <a name="navbar.top.firstrow"> </a> <ul class="navList" title="Navigation"> <li><a href="../../../overview-summary.html">Overview</a></li> <li><a href="package-summary.html">Package</a></li> <li class="navBarCell1Rev">Class</li> <li><a href="package-tree.html">Tree</a></li> <li><a href="../../../deprecated-list.html">Deprecated</a></li> <li><a href="../../../index-all.html">Index</a></li> <li><a href="../../../help-doc.html">Help</a></li> </ul> </div> <div class="subNav"> <ul class="navList"> <li><a href="../../../com/isomorphic/rpc/QueueAlreadyStartedException.html" title="class in com.isomorphic.rpc"><span class="typeNameLink">Prev&nbsp;Class</span></a></li> <li><a href="../../../com/isomorphic/rpc/RPCManagerCompletionCallback.html" title="interface in com.isomorphic.rpc"><span class="typeNameLink">Next&nbsp;Class</span></a></li> </ul> <ul class="navList"> <li><a href="../../../index.html?com/isomorphic/rpc/RPCManager.html" target="_top">Frames</a></li> <li><a href="RPCManager.html" target="_top">No&nbsp;Frames</a></li> </ul> <ul class="navList" id="allclasses_navbar_top"> <li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li> </ul> <div> <script type="text/javascript">allClassesLink=document.getElementById("allclasses_navbar_top");if(window==top){allClassesLink.style.display="block"}else{allClassesLink.style.display="none"};</script> </div> <div> <ul class="subNavList"> <li>Summary:&nbsp;</li> <li>Nested&nbsp;|&nbsp;</li> <li>Field&nbsp;|&nbsp;</li> <li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li> <li><a href="#method.summary">Method</a></li> </ul> <ul class="subNavList"> <li>Detail:&nbsp;</li> <li>Field&nbsp;|&nbsp;</li> <li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li> <li><a href="#method.detail">Method</a></li> </ul> </div> <a name="skip.navbar.top"> </a></div> <div class="header"> <div class="subTitle">com.isomorphic.rpc</div> <h2 title="Class RPCManager" class="title">Class RPCManager</h2> </div> <div class="contentContainer"> <ul class="inheritance"> <li>java.lang.Object</li> <li> <ul class="inheritance"> <li>com.isomorphic.rpc.RPCManager</li> </ul> </li> </ul> <div class="description"> <ul class="blockList"> <li class="blockList"> <hr> <br> <pre>public class <span class="typeNameLabel">RPCManager</span>
extends java.lang.Object</pre> <div class="block">Provides the ability to decode <a href="../../../com/isomorphic/rpc/RPCRequest.html" title="class in com.isomorphic.rpc"><code>RPCRequests</code></a> and <a href="../../../com/isomorphic/datasource/DSRequest.html" title="class in com.isomorphic.datasource"><code>DSRequests</code></a> sent by the browser into Java Objects, and send back Java Object as responses. <P> This class has a client-side counterpart that is also called RPCManager. The client-side RPCManager enables you to send one or more RPCRequests to an arbitrary URL. In the Java logic at those URLs, you'll need to instantiate this RPCManager to process and respond to the requests. <P> Note that a single RPC transaction can contain more than one RPC request. See the discussion on queueing in the documentation for the client-side RPCManager on why this is useful. <P> All RPC requests require a response. If your application needs nothing more than an ack of the successful completion of a given request, use the sendSuccess()/sendFailure() convenience methods on this class to ack the request. The RPCManager keeps track of request/response pairs and automatically streams all responses to the client as a batch once you've provided a response for each request. <P> Note that when you call any of the send() methods on this class, no data is actually sent back over the wire until you have responded to all requests. <P> <h3>Special notes on queueing</h3> While processing a queue, the RPCManager will not abort the queue if one of the requests fail, it will instead carry on until the last request has been executed and then issue a callback to the datasources involved. The reason for this is that the code in a DMI might already handle the error condition, and that any DataSource operations performed in the context of the failed transaction might likewise be trying to compensate for the error or gather information to send back in an error message. If a request failed, the <a href="../../../com/isomorphic/rpc/RPCManagerCompletionCallback.html#onFailure-com.isomorphic.datasource.DSTransaction-boolean-"><code>RPCManagerCompletionCallback.onFailure(com.isomorphic.datasource.DSTransaction, boolean)</code></a> would be called and the datasources would either commit or rollback a transaction. If you instead wanted to abort the execution of the rest of the queue upon failure you will have to manually call <a href="../../../com/isomorphic/rpc/RPCManager.html#queueHasFailures--"><code>RPCManager.queueHasFailures()</code></a> to see if the queue has any failures before executing the next request. Also note that <a href="../../../com/isomorphic/rpc/RPCRequest.html" title="class in com.isomorphic.rpc"><code>RPCRequests</code></a> issuing DMI calls do not have the concept of commit and rollback and will therefore require you to use this method to abort a queue on failure.</div> <dl> <dt><span class="seeLabel">See Also:</span></dt> <dd><a href="../../../com/isomorphic/rpc/RPCRequest.html" title="class in com.isomorphic.rpc"><code>RPCRequest</code></a>, <a href="../../../com/isomorphic/rpc/RPCResponse.html" title="class in com.isomorphic.rpc"><code>RPCResponse</code></a>, <a href="../../../com/isomorphic/base/Init.html" title="class in com.isomorphic.base"><code>Init</code></a></dd> </dl> </li> </ul> </div> <div class="summary"> <ul class="blockList"> <li class="blockList"> <ul class="blockList"> <li class="blockList"><a name="constructor.summary"> </a> <h3>Constructor Summary</h3> <table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation"> <caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption> <tr> <th class="colOne" scope="col">Constructor and Description</th> </tr> <tr class="altColor"> <td class="colOne"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#RPCManager-HttpServletRequest-HttpServletResponse-">RPCManager</a></span>(HttpServletRequest&nbsp;request, HttpServletResponse&nbsp;response)</code> <div class="block">RPCManager constructor for use in Servlets or Filters.</div> </td> </tr> <tr class="rowColor"> <td class="colOne"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#RPCManager-HttpServletRequest-HttpServletResponse-java.io.Writer-">RPCManager</a></span>(HttpServletRequest&nbsp;request, HttpServletResponse&nbsp;response, java.io.Writer&nbsp;out)</code> <div class="block">RPCManager constructor for use in JSPs.</div> </td> </tr> </table> </li> </ul> <ul class="blockList"> <li class="blockList"><a name="method.summary"> </a> <h3>Method Summary</h3> <table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation"> <caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption> <tr> <th class="colFirst" scope="col">Modifier and Type</th> <th class="colLast" scope="col">Method and Description</th> </tr> <tr id="i0" class="altColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#doCustomResponse--">doCustomResponse</a></span>()</code> <div class="block">If you're using Direct Method Invocation, you can call doCustomResponse() to suppress the normal RPCManager response so that you can send your own custom response via the servletResponse output stream.</div> </td> </tr> <tr id="i1" class="rowColor"> <td class="colFirst"><code><a href="../../../com/isomorphic/datasource/DSResponse.html" title="class in com.isomorphic.datasource">DSResponse</a></code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#findFirstResponse-java.lang.String-java.lang.String-">findFirstResponse</a></span>(java.lang.String&nbsp;dsName, java.lang.String&nbsp;opType)</code> <div class="block">Returns the <a href="../../../com/isomorphic/datasource/DSResponse.html" title="class in com.isomorphic.datasource"><code>DSResponse</code></a> for the first DSRequest where the DataSource and operation type match the parameter values (null parameters match any DataSource / operation type).</div> </td> </tr> <tr id="i2" class="altColor"> <td class="colFirst"><code><a href="../../../com/isomorphic/datasource/DSResponse.html" title="class in com.isomorphic.datasource">DSResponse</a></code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#findLastResponse-java.lang.String-java.lang.String-">findLastResponse</a></span>(java.lang.String&nbsp;dsName, java.lang.String&nbsp;opType)</code> <div class="block">Returns the <a href="../../../com/isomorphic/datasource/DSResponse.html" title="class in com.isomorphic.datasource"><code>DSResponse</code></a> for the DSRequest most immediately prior to the current DSRequest, where the DataSource and operation type match the parameter values.</div> </td> </tr> <tr id="i3" class="rowColor"> <td class="colFirst"><code>java.lang.Object</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#getAttribute-java.lang.String-">getAttribute</a></span>(java.lang.String&nbsp;key)</code> <div class="block">Returns an Object that has previously been stored in this RPCManager's attribute map.</div> </td> </tr> <tr id="i4" class="altColor"> <td class="colFirst"><code>java.lang.Boolean</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#getAuthenticated--">getAuthenticated</a></span>()</code> <div class="block">Returns true if we have an authenticated user for this request.</div> </td> </tr> <tr id="i5" class="rowColor"> <td class="colFirst"><code>java.lang.Object</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#getData--">getData</a></span>()</code> <div class="block">Convenience method for getting the data of a single RPCRequest.</div> </td> </tr> <tr id="i6" class="altColor"> <td class="colFirst"><code><a href="../../../com/isomorphic/datasource/DataSource.html" title="class in com.isomorphic.datasource">DataSource</a></code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#getDataSource-java.lang.String-">getDataSource</a></span>(java.lang.String&nbsp;dsName)</code> <div class="block">Returns an instance of the DataSource named in the "dsName" parameter.</div> </td> </tr> <tr id="i7" class="rowColor"> <td class="colFirst"><code><a href="../../../com/isomorphic/datasource/DSRequest.html" title="class in com.isomorphic.datasource">DSRequest</a></code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#getDSRequest--">getDSRequest</a></span>()</code> <div class="block">Convenience method for getting a single DSRequest when you know this request only contains one DSRequest.</div> </td> </tr> <tr id="i8" class="altColor"> <td class="colFirst"><code><a href="../../../com/isomorphic/rpc/RPCRequest.html" title="class in com.isomorphic.rpc">RPCRequest</a></code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#getRequest--">getRequest</a></span>()</code> <div class="block">Convenience method for getting a single RPCRequest when you know this HTTP request only contains one RPCRequest.</div> </td> </tr> <tr id="i9" class="rowColor"> <td class="colFirst"><code>java.util.List</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#getRequests--">getRequests</a></span>()</code> <div class="block">Returns a list of RPC requests sent in this HTTP transaction.</div> </td> </tr> <tr id="i10" class="altColor"> <td class="colFirst"><code>java.lang.String</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#getTenantId--">getTenantId</a></span>()</code> <div class="block">Returns the tenant ID associated with the queue of requests being managed by this RPCManager.</div> </td> </tr> <tr id="i11" class="rowColor"> <td class="colFirst"><code>int</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#getTransactionPolicy--">getTransactionPolicy</a></span>()</code> <div class="block">Returns this RPCManager's transaction policy.</div> </td> </tr> <tr id="i12" class="altColor"> <td class="colFirst"><code>java.lang.String</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#getUserId--">getUserId</a></span>()</code> <div class="block">Returns the user ID associated with the queue of requests being managed by this RPCManager.</div> </td> </tr> <tr id="i13" class="rowColor"> <td class="colFirst"><code>java.util.List</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#getUserRoles--">getUserRoles</a></span>()</code> <div class="block">Returns a list of the roles associated with the user who is authenticated for this request.</div> </td> </tr> <tr id="i14" class="altColor"> <td class="colFirst"><code>boolean</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#hasTenantId--">hasTenantId</a></span>()</code> <div class="block">Returns whether a tenant ID has been associated with the queue of requests being managed by this RPCManager.</div> </td> </tr> <tr id="i15" class="rowColor"> <td class="colFirst"><code>static boolean</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#isRPC-HttpServletRequest-">isRPC</a></span>(HttpServletRequest&nbsp;request)</code>&nbsp;</td> </tr> <tr id="i16" class="altColor"> <td class="colFirst"><code>static boolean</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#isXmlHttp-HttpServletRequest-">isXmlHttp</a></span>(HttpServletRequest&nbsp;request)</code>&nbsp;</td> </tr> <tr id="i17" class="rowColor"> <td class="colFirst"><code>static void</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#processRequest-HttpServletRequest-HttpServletResponse-">processRequest</a></span>(HttpServletRequest&nbsp;request, HttpServletResponse&nbsp;response)</code> <div class="block">Instantiates an RPCManager and processes any <a href="../../../com/isomorphic/rpc/RPCRequest.html" title="class in com.isomorphic.rpc"><code>RPCRequest</code></a> or <a href="../../../com/isomorphic/datasource/DSRequest.html" title="class in com.isomorphic.datasource"><code>DSRequest</code></a> from the provided HttpServletRequest.</div> </td> </tr> <tr id="i18" class="altColor"> <td class="colFirst"><code>boolean</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#queueHasFailures--">queueHasFailures</a></span>()</code> <div class="block">Returns true if any request in the current queue failed.</div> </td> </tr> <tr id="i19" class="rowColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#registerCallback-com.isomorphic.rpc.RPCManagerCompletionCallback-">registerCallback</a></span>(<a href="../../../com/isomorphic/rpc/RPCManagerCompletionCallback.html" title="interface in com.isomorphic.rpc">RPCManagerCompletionCallback</a>&nbsp;callback)</code> <div class="block">Register an implementation of <a href="../../../com/isomorphic/rpc/RPCManagerCompletionCallback.html" title="interface in com.isomorphic.rpc"><code>RPCManagerCompletionCallback</code></a> with this RPCManager.</div> </td> </tr> <tr id="i20" class="altColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#removeAttribute-java.lang.String-">removeAttribute</a></span>(java.lang.String&nbsp;key)</code> <div class="block">Removes an Object that has previously been stored in this RPCManager's attribute map.</div> </td> </tr> <tr id="i21" class="rowColor"> <td class="colFirst"><code>int</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#requestCount--">requestCount</a></span>()</code> <div class="block">Returns the number of RPC requests contained in the current HTTP request.</div> </td> </tr> <tr id="i22" class="altColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#send-com.isomorphic.datasource.DSRequest-com.isomorphic.datasource.DSResponse-">send</a></span>(<a href="../../../com/isomorphic/datasource/DSRequest.html" title="class in com.isomorphic.datasource">DSRequest</a>&nbsp;dsRequest, <a href="../../../com/isomorphic/datasource/DSResponse.html" title="class in com.isomorphic.datasource">DSResponse</a>&nbsp;dsResponse)</code> <div class="block">When responding to DataSource requests sent by the client, use this method.</div> </td> </tr> <tr id="i23" class="rowColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#send-com.isomorphic.datasource.DSRequest-java.lang.Object-">send</a></span>(<a href="../../../com/isomorphic/datasource/DSRequest.html" title="class in com.isomorphic.datasource">DSRequest</a>&nbsp;dsRequest, java.lang.Object&nbsp;data)</code> <div class="block">Convenience method.</div> </td> </tr> <tr id="i24" class="altColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#send-java.lang.Object-">send</a></span>(java.lang.Object&nbsp;data)</code> <div class="block">Convenience method for sending some data back in response to a single RPCRequest.</div> </td> </tr> <tr id="i25" class="rowColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#send-com.isomorphic.rpc.RPCRequest-java.lang.Object-">send</a></span>(<a href="../../../com/isomorphic/rpc/RPCRequest.html" title="class in com.isomorphic.rpc">RPCRequest</a>&nbsp;rpcRequest, java.lang.Object&nbsp;data)</code> <div class="block">Convenience method.</div> </td> </tr> <tr id="i26" class="altColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#send-com.isomorphic.rpc.RPCRequest-com.isomorphic.rpc.RPCResponse-">send</a></span>(<a href="../../../com/isomorphic/rpc/RPCRequest.html" title="class in com.isomorphic.rpc">RPCRequest</a>&nbsp;rpcRequest, <a href="../../../com/isomorphic/rpc/RPCResponse.html" title="class in com.isomorphic.rpc">RPCResponse</a>&nbsp;rpcResponse)</code> <div class="block">When responding to a set of RPC requests sent as part of one HTTP request (if you used startQueue() sendQueue() on the client) you need to pair the responses to the requests.</div> </td> </tr> <tr id="i27" class="rowColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#send-com.isomorphic.rpc.RPCResponse-">send</a></span>(<a href="../../../com/isomorphic/rpc/RPCResponse.html" title="class in com.isomorphic.rpc">RPCResponse</a>&nbsp;rpcResponse)</code> <div class="block">Convenience method for sending some data back in response to a single RPCRequest.</div> </td> </tr> <tr id="i28" class="altColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#sendFailure-java.lang.Object-java.lang.String-">sendFailure</a></span>(java.lang.Object&nbsp;request, java.lang.String&nbsp;error)</code> <div class="block">If the request processing failed for some reason, you can encode your own failure response in a standard response, or use this convenience method to send a failure notification on the client.<br><br> Unless your client-side request specified the willHandleError flag, whatever message you send back here will be alert()ed on the client.</div> </td> </tr> <tr id="i29" class="rowColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#sendFailure-java.lang.Object-java.lang.Throwable-">sendFailure</a></span>(java.lang.Object&nbsp;request, java.lang.Throwable&nbsp;t)</code> <div class="block">Takes a <code>Throwable</code>, formats the stack trace and calls sendFailure(rpcRequst, error).</div> </td> </tr> <tr id="i30" class="altColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#sendSuccess-com.isomorphic.rpc.RPCRequest-">sendSuccess</a></span>(<a href="../../../com/isomorphic/rpc/RPCRequest.html" title="class in com.isomorphic.rpc">RPCRequest</a>&nbsp;rpcRequest)</code> <div class="block">Every RPC request requires a response.</div> </td> </tr> <tr id="i31" class="rowColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#sendXMLString-com.isomorphic.datasource.DSRequest-java.lang.String-">sendXMLString</a></span>(<a href="../../../com/isomorphic/datasource/DSRequest.html" title="class in com.isomorphic.datasource">DSRequest</a>&nbsp;dsRequest, java.lang.String&nbsp;xml)</code> <div class="block">Convenience method.</div> </td> </tr> <tr id="i32" class="altColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#sendXMLString-com.isomorphic.rpc.RPCRequest-java.lang.String-">sendXMLString</a></span>(<a href="../../../com/isomorphic/rpc/RPCRequest.html" title="class in com.isomorphic.rpc">RPCRequest</a>&nbsp;rpcRequest, java.lang.String&nbsp;xml)</code> <div class="block">Convenience method.</div> </td> </tr> <tr id="i33" class="rowColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#setAttribute-java.lang.String-java.lang.Object-">setAttribute</a></span>(java.lang.String&nbsp;key, java.lang.Object&nbsp;value)</code> <div class="block">Stores an object in this RPCManager's attribute map, associated with the passed key.</div> </td> </tr> <tr id="i34" class="altColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#setAuthenticated-boolean-">setAuthenticated</a></span>(boolean&nbsp;authenticated)</code> <div class="block">Pass true to this method to indicate that every request in the queue is associated with an authenticated user.</div> </td> </tr> <tr id="i35" class="rowColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#setResponseCharset-java.lang.String-">setResponseCharset</a></span>(java.lang.String&nbsp;charset)</code> <div class="block">Sets the charset of the response.</div> </td> </tr> <tr id="i36" class="altColor"> <td class="colFirst"><code><a href="../../../com/isomorphic/rpc/RPCManager.html" title="class in com.isomorphic.rpc">RPCManager</a></code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#setTenantId-java.lang.String-">setTenantId</a></span>(java.lang.String&nbsp;tenantId)</code> <div class="block">Set the tenant ID to associate with the queue of requests being managed by this RPCManager.</div> </td> </tr> <tr id="i37" class="rowColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#setTransactionPolicy-int-">setTransactionPolicy</a></span>(int&nbsp;tp)</code> <div class="block">Set this RPCManager's transaction policy.</div> </td> </tr> <tr id="i38" class="altColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#setUserId-java.lang.String-">setUserId</a></span>(java.lang.String&nbsp;userId)</code> <div class="block">Set the user ID associated with the queue of requests being managed by this RPCManager.</div> </td> </tr> <tr id="i39" class="rowColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#setUserRoles-java.util.List-">setUserRoles</a></span>(java.util.List&nbsp;rolesList)</code> <div class="block">Accepts a List of roles associated with the user who is authenticated for this request.</div> </td> </tr> <tr id="i40" class="altColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#setUserRoles-java.lang.String-">setUserRoles</a></span>(java.lang.String&nbsp;rolesString)</code> <div class="block">Accepts a comma-separated String representing the list of roles associated with the user who is authenticated for this request.</div> </td> </tr> <tr id="i41" class="rowColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#setUserRoles-java.lang.String:A-">setUserRoles</a></span>(java.lang.String[]&nbsp;roles)</code> <div class="block">Accepts a List of roles associated with the user who is authenticated for this request.</div> </td> </tr> <tr id="i42" class="altColor"> <td class="colFirst"><code>void</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#skipRemainingQueue--">skipRemainingQueue</a></span>()</code> <div class="block">Calling this tells the <a href="../../../com/isomorphic/datasource/DSTransaction.html" title="class in com.isomorphic.datasource"><code>DSTransaction</code></a> that all the remaining requests in the queue should be skipped.</div> </td> </tr> <tr id="i43" class="rowColor"> <td class="colFirst"><code>java.sql.Connection</code></td> <td class="colLast"><code><span class="memberNameLink"><a href="../../../com/isomorphic/rpc/RPCManager.html#startSQLTransaction-com.isomorphic.datasource.DSRequest-">startSQLTransaction</a></span>(<a href="../../../com/isomorphic/datasource/DSRequest.html" title="class in com.isomorphic.datasource">DSRequest</a>&nbsp;dsReq)</code> <div class="block">Starts the SQL transaction that will be used for all SQL DSRequests belonging to this RPCManager.</div> </td> </tr> </table> </li> </ul> </li> </ul> </div> <div class="details"> <ul class="blockList"> <li class="blockList"> <ul class="blockList"> <li class="blockList"><a name="constructor.detail"> </a> <h3>Constructor Detail</h3> <a name="RPCManager-HttpServletRequest-HttpServletResponse-"> </a> <ul class="blockList"> <li class="blockList"> <h4>RPCManager</h4> <pre>public&nbsp;RPCManager(HttpServletRequest&nbsp;request,
                  HttpServletResponse&nbsp;response)
           throws java.lang.Exception</pre> <div class="block">RPCManager constructor for use in Servlets or Filters.</div> <dl> <dt><span class="paramLabel">Parameters:</span></dt> <dd><code>request</code> - The 'request' variable provided in the context of the JSP</dd> <dd><code>response</code> - The 'response' variable provided in the context of the JSP</dd> <dt><span class="throwsLabel">Throws:</span></dt> <dd><code><a href="../../../com/isomorphic/rpc/ClientMustResubmitException.html" title="class in com.isomorphic.rpc">ClientMustResubmitException</a></code> - if the client must resubmit the request.</dd> <dd><code>java.lang.Exception</code> - if the request is malformed.</dd> </dl> </li> </ul> <a name="RPCManager-HttpServletRequest-HttpServletResponse-java.io.Writer-"> </a> <ul class="blockListLast"> <li class="blockList"> <h4>RPCManager</h4> <pre>public&nbsp;RPCManager(HttpServletRequest&nbsp;request,
                  HttpServletResponse&nbsp;response,
                  java.io.Writer&nbsp;out)
           throws java.lang.Exception</pre> <div class="block">RPCManager constructor for use in JSPs. The RPC requires control of the output stream to send responses to the client. Since JSPs automatically call response.getOutputStream() to provide the 'out' variable in the context of the JSP and since it's further illegal to call getOutputStream() more than once, so you'll need to use this form of the RPCManager constructor when processing RPC requests in a JSP.</div> <dl> <dt><span class="paramLabel">Parameters:</span></dt> <dd><code>request</code> - The 'request' variable provided in the context of the JSP</dd> <dd><code>response</code> - The 'response' variable provided in the context of the JSP</dd> <dd><code>out</code> - The 'out' variable provided in the context of the JSP</dd> <dt><span class="throwsLabel">Throws:</span></dt> <dd><code><a href="../../../com/isomorphic/rpc/ClientMustResubmitException.html" title="class in com.isomorphic.rpc">ClientMustResubmitException</a></code> - if the client must resubmit the request.</dd> <dd><code>java.lang.Exception</code> - if the request is malformed.</dd> </dl> </li> </ul> </li> </ul> <ul class="blockList"> <li class="blockList"><a name="method.detail"> </a> <h3>Method Detail</h3> <a name="isRPC-HttpServletRequest-"> </a> <ul class="blockList"> <li class="blockList"> <h4>isRPC</h4> <pre>public static&nbsp;boolean&nbsp;isRPC(HttpServletRequest&nbsp;request)</pre> <dl> <dt><span class="returnLabel">Returns:</span></dt> <dd>true if the passed HttpServletRequest contains a SmartClient RPC request, false otherwise.</dd> </dl> </li> </ul> <a name="isXmlHttp-HttpServletRequest-"> </a> <ul class="blockList"> <li class="blockList"> <h4>isXmlHttp</h4> <pre>public static&nbsp;boolean&nbsp;isXmlHttp(HttpServletRequest&nbsp;request)</pre> <dl> <dt><span class="returnLabel">Returns:</span></dt> <dd>true if the current RPC request was made using the xmlHttpRequest transport, false otherwise.</dd> </dl> </li> </ul> <a name="doCustomResponse--"> </a> <ul class="blockList"> <li class="blockList"> <h4>doCustomResponse</h4> <pre>public&nbsp;void&nbsp;doCustomResponse()</pre> <div class="block">If you're using Direct Method Invocation, you can call doCustomResponse() to suppress the normal RPCManager response so that you can send your own custom response via the servletResponse output stream. <p> This is useful for implementing file download functionality in response to an RPC request. <P> Note if you are not using DMI, but simply using the RPCManager, you can avoid the RPCManager response by simply not calling RPCManager.send().</div> </li> </ul> <a name="setResponseCharset-java.lang.String-"> </a> <ul class="blockList"> <li class="blockList"> <h4>setResponseCharset</h4> <pre>public&nbsp;void&nbsp;setResponseCharset(java.lang.String&nbsp;charset)</pre> <div class="block">Sets the charset of the response. Must be called before any send() methods are called.</div> </li> </ul> <a name="getData--"> </a> <ul class="blockList"> <li class="blockList"> <h4>getData</h4> <pre>public&nbsp;java.lang.Object&nbsp;getData()</pre> <div class="block">Convenience method for getting the data of a single RPCRequest. Calling this method is equivalent to calling getRequest.getData()</div> </li> </ul> <a name="getDSRequest--"> </a> <ul class="blockList"> <li class="blockList"> <h4>getDSRequest</h4> <pre>public&nbsp;<a href="../../../com/isomorphic/datasource/DSRequest.html" title="class in com.isomorphic.datasource">DSRequest</a>&nbsp;getDSRequest()</pre> <div class="block">Convenience method for getting a single DSRequest when you know this request only contains one DSRequest. If more than one DSRequest was actually sent by the client, this method returns the first one and logs a warning.</div> <dl> <dt><span class="returnLabel">Returns:</span></dt> <dd><code>DSRequest</code>. Returns <code>null</code> if request is not instance of <code>DSRequest</code>.</dd> </dl> </li> </ul> <a name="getRequest--"> </a> <ul class="blockList"> <li class="blockList"> <h4>getRequest</h4> <pre>public&nbsp;<a href="../../../com/isomorphic/rpc/RPCRequest.html" title="class in com.isomorphic.rpc">RPCRequest</a>&nbsp;getRequest()</pre> <div class="block">Convenience method for getting a single RPCRequest when you know this HTTP request only contains one RPCRequest. If more than one RPC request was actually sent by the client, this method returns the first one and logs a warning.</div> </li> </ul> <a name="getRequests--"> </a> <ul class="blockList"> <li class="blockList"> <h4>getRequests</h4> <pre>public&nbsp;java.util.List&nbsp;getRequests()</pre> <div class="block">Returns a list of RPC requests sent in this HTTP transaction. The request objects in this list will be either of type RPCRequest (if you used RPCManager.send() on the client) or of type DSRequest if the request was generated by a databound component or datasource on the client or a mix of RPCRequest and DSRequest objects.</div> </li> </ul> <a name="requestCount--"> </a> <ul class="blockList"> <li class="blockList"> <h4>requestCount</h4> <pre>public&nbsp;int&nbsp;requestCount()</pre> <div class="block">Returns the number of RPC requests contained in the current HTTP request.</div> <dl> <dt><span class="returnLabel">Returns:</span></dt> <dd>number of RPC requests contained in the current HTTP request.</dd> </dl> </li> </ul> <a name="send-java.lang.Object-"> </a> <ul class="blockList"> <li class="blockList"> <h4>send</h4> <pre>public&nbsp;void&nbsp;send(java.lang.Object&nbsp;data)
          throws java.lang.Exception</pre> <div class="block">Convenience method for sending some data back in response to a single RPCRequest. Calling this method is equivalent to calling send(new RPCResponse(data))/</div> <dl> <dt><span class="paramLabel">Parameters:</span></dt> <dd><code>data</code> - to send back</dd> <dt><span class="throwsLabel">Throws:</span></dt> <dd><code>java.lang.Exception</code> - if there is an error sending the response</dd> </dl> </li> </ul> <a name="send-com.isomorphic.rpc.RPCResponse-"> </a> <ul class="blockList"> <li class="blockList"> <h4>send</h4> <pre>public&nbsp;void&nbsp;send(<a href="../../../com/isomorphic/rpc/RPCResponse.html" title="class in com.isomorphic.rpc">RPCResponse</a>&nbsp;rpcResponse)
          throws java.lang.Exception</pre> <div class="block">Convenience method for sending some data back in response to a single RPCRequest. If you're processing multiple RPC request sent as part of one HTTP request, you need to pair the responses to the requests by calling send(rpcRequest, rpcResponse) instead.</div> <dl> <dt><span class="paramLabel">Parameters:</span></dt> <dd><code>rpcResponse</code> - containing the data to send back</dd> <dt><span class="throwsLabel">Throws:</span></dt> <dd><code>java.lang.Exception</code> - if there is an error sending the response</dd> </dl> </li> </ul> <a name="send-com.isomorphic.rpc.RPCRequest-com.isomorphic.rpc.RPCResponse-"> </a> <ul class="blockList"> <li class="blockList"> <h4>send</h4> <pre>public&nbsp;void&nbsp;send(<a href="../../../com/isomorphic/rpc/RPCRequest.html" title="class in com.isomorphic.rpc">RPCRequest</a>&nbsp;rpcRequest,
                 <a href="../../../com/isomorphic/rpc/RPCResponse.html" title="class in com.isomorphic.rpc">RPCResponse</a>&nbsp;rpcResponse)
          throws java.lang.Exception</pre> <div class="block">When responding to a set of RPC requests sent as part of one HTTP request (if you used startQueue() sendQueue() on the client) you need to pair the responses to the requests.</div> <dl> <dt><span class="paramLabel">Parameters:</span></dt> <dd><code>rpcRequest</code> - the request you're responding to</dd> <dd><code>rpcResponse</code> - your response</dd> <dt><span class="throwsLabel">Throws:</span></dt> <dd><code>java.lang.Exception</code> - if there is an error sending the response</dd> </dl> </li> </ul> <a name="send-com.isomorphic.rpc.RPCRequest-java.lang.Object-"> </a> <ul class="blockList"> <li class="blockList"> <h4>send</h4> <pre>public&nbsp;void&nbsp;send(<a href="../../../com/isomorphic/rpc/RPCRequest.html" title="class in com.isomorphic.rpc">RPCRequest</a>&nbsp;rpcRequest,
                 java.lang.Object&nbsp;data)
          throws java.lang.Exception</pre> <div class="block">Convenience method. This method does the following: <pre>
 RPCResponse rpcResponse = new RPCResponse();
 rpcResponse.setData(data);
 rpcResponse.setStatus(RPCResponse.STATUS_SUCCESS);
 send(rpcRequest, rpcResponse);
 </pre></div> <dl> <dt><span class="paramLabel">Parameters:</span></dt> <dd><code>rpcRequest</code> - the request you're responding to</dd> <dd><code>data</code> - to send as the payload of the response</dd> <dt><span class="throwsLabel">Throws:</span></dt> <dd><code>java.lang.Exception</code> - if there is an error sending the response</dd> </dl> </li> </ul> <a name="sendXMLString-com.isomorphic.rpc.RPCRequest-java.lang.String-"> </a> <ul class="blockList"> <li class="blockList"> <h4>sendXMLString</h4> <pre>public&nbsp;void&nbsp;sendXMLString(<a href="../../../com/isomorphic/rpc/RPCRequest.html" title="class in com.isomorphic.rpc">RPCRequest</a>&nbsp;rpcRequest,
                          java.lang.String&nbsp;xml)
                   throws java.lang.Exception</pre> <div class="block">Convenience method. Transforms the provided XML in a manner equivalent to the isomorphic:XML JSP tag (custom Isomorphic tag) and sets that as the payload of a new RPCResponse. Calling this method is equivalent to parsing the XML and passing the resulting top-level <code>org.w3c.dom.Element</code> object to RPCResponse.setData().</div> <dl> <dt><span class="throwsLabel">Throws:</span></dt> <dd><code>java.lang.Exception</code> - if there is an error sending the response</dd> </dl> </li> </ul> <a name="send-com.isomorphic.datasource.DSRequest-com.isomorphic.datasource.DSResponse-"> </a> <ul class="blockList"> <li class="blockList"> <h4>send</h4> <pre>public&nbsp;void&nbsp;send(<a href="../../../com/isomorphic/datasource/DSRequest.html" title="class in com.isomorphic.datasource">DSRequest</a>&nbsp;dsRequest,
                 <a href="../../../com/isomorphic/datasource/DSResponse.html" title="class in com.isomorphic.datasource">DSResponse</a>&nbsp;dsResponse)
          throws java.lang.Exception</pre> <div class="block">When responding to DataSource requests sent by the client, use this method.</div> <dl> <dt><span class="paramLabel">Parameters:</span></dt> <dd><code>dsRequest</code> - the request you're responding to</dd> <dd><code>dsResponse</code> - your response</dd> <dt><span class="throwsLabel">Throws:</span></dt> <dd><code>java.lang.Exception</code> - if there is an error sending the response</dd> </dl> </li> </ul> <a name="send-com.isomorphic.datasource.DSRequest-java.lang.Object-"> </a> <ul class="blockList"> <li class="blockList"> <h4>send</h4> <pre>public&nbsp;void&nbsp;send(<a href="../../../com/isomorphic/datasource/DSRequest.html" title="class in com.isomorphic.datasource">DSRequest</a>&nbsp;dsRequest,
                 java.lang.Object&nbsp;data)
          throws java.lang.Exception</pre> <div class="block">Convenience method. This method does the following: <pre>
 DSResponse dsResponse = new DSResponse();
 dsResponse.setData(data);
 dsResponse.setStatus(DSResponse.STATUS_SUCCESS);
 send(dsRequest, dsResponse);
 </pre></div> <dl> <dt><span class="paramLabel">Parameters:</span></dt> <dd><code>dsRequest</code> - the request you're responding to</dd> <dd><code>data</code> - to send as the payload of the response</dd> <dt><span class="throwsLabel">Throws:</span></dt> <dd><code>java.lang.Exception</code> - if there is an error sending the response</dd> </dl> </li> </ul> <a name="sendXMLString-com.isomorphic.datasource.DSRequest-java.lang.String-"> </a> <ul class="blockList"> <li class="blockList"> <h4>sendXMLString</h4> <pre>public&nbsp;void&nbsp;sendXMLString(<a href="../../../com/isomorphic/datasource/DSRequest.html" title="class in com.isomorphic.datasource">DSRequest</a>&nbsp;dsRequest,
                          java.lang.String&nbsp;xml)
                   throws java.lang.Exception</pre> <div class="block">Convenience method. Transforms the provided XML in a manner equivalent to the isomorphic:XML JSP tag (custom Isomorphic tag) and sets that as the payload of a new DSResponse. Calling this method is equivalent to parsing the XML and passing the resulting top-level an org.w3c.dom.Element object to DSResponse.setData().</div> <dl> <dt><span class="throwsLabel">Throws:</span></dt> <dd><code>java.lang.Exception</code> - if there is an error sending the response</dd> </dl> </li> </ul> <a name="sendSuccess-com.isomorphic.rpc.RPCRequest-"> </a> <ul class="blockList"> <li class="blockList"> <h4>sendSuccess</h4> <pre>public&nbsp;void&nbsp;sendSuccess(<a href="../../../com/isomorphic/rpc/RPCRequest.html" title="class in com.isomorphic.rpc">RPCRequest</a>&nbsp;rpcRequest)
                 throws java.lang.Exception</pre> <div class="block">Every RPC request requires a response. If your application does not require a response to a particular request, use this method to ack the successful completion of the request on the server.</div> <dl> <dt><span class="paramLabel">Parameters:</span></dt> <dd><code>rpcRequest</code> - the request that completed successfully</dd> <dt><span class="throwsLabel">Throws:</span></dt> <dd><code>java.lang.Exception</code> - if there is an error sending the response</dd> </dl> </li> </ul> <a name="sendFailure-java.lang.Object-java.lang.String-"> </a> <ul class="blockList"> <li class="blockList"> <h4>sendFailure</h4> <pre>public&nbsp;void&nbsp;sendFailure(java.lang.Object&nbsp;request,
                        java.lang.String&nbsp;error)
                 throws java.lang.Exception</pre> <div class="block">If the request processing failed for some reason, you can encode your own failure response in a standard response, or use this convenience method to send a failure notification on the client.<br><br> Unless your client-side request specified the willHandleError flag, whatever message you send back here will be alert()ed on the client.</div> <dl> <dt><span class="paramLabel">Parameters:</span></dt> <dd><code>request</code> - the request that failed</dd> <dd><code>error</code> - the error string to send to the client</dd> <dt><span class="throwsLabel">Throws:</span></dt> <dd><code>java.lang.Exception</code> - if there is an error sending the response</dd> </dl> </li> </ul> <a name="sendFailure-java.lang.Object-java.lang.Throwable-"> </a> <ul class="blockList"> <li class="blockList"> <h4>sendFailure</h4> <pre>public&nbsp;void&nbsp;sendFailure(java.lang.Object&nbsp;request,
                        java.lang.Throwable&nbsp;t)
                 throws java.lang.Exception</pre> <div class="block">Takes a <code>Throwable</code>, formats the stack trace and calls sendFailure(rpcRequst, error).</div> <dl> <dt><span class="paramLabel">Parameters:</span></dt> <dd><code>request</code> - the request that failed</dd> <dd><code>t</code> - the exception you wish to report to the client</dd> <dt><span class="throwsLabel">Throws:</span></dt> <dd><code>java.lang.Exception</code> - if there is an error sending the response</dd> </dl> </li> </ul> <a name="queueHasFailures--"> </a> <ul class="blockList"> <li class="blockList"> <h4>queueHasFailures</h4> <pre>public&nbsp;boolean&nbsp;queueHasFailures()</pre> <div class="block">Returns true if any request in the current queue failed. This method can be used by user code in a DMI or custom DataSource execute method to avoid processing later operations if earlier ones have failed.</div> </li> </ul> <a name="skipRemainingQueue--"> </a> <ul class="blockList"> <li class="blockList"> <h4>skipRemainingQueue</h4> <pre>public&nbsp;void&nbsp;skipRemainingQueue()</pre> <div class="block">Calling this tells the <a href="../../../com/isomorphic/datasource/DSTransaction.html" title="class in com.isomorphic.datasource"><code>DSTransaction</code></a> that all the remaining requests in the queue should be skipped. Those requests will instead return a response with a status of <a href="../../../com/isomorphic/rpc/BaseResponse.html#STATUS_PROCESSING_SKIPPED"><code>BaseResponse.STATUS_PROCESSING_SKIPPED</code></a>. <p> This ensures that the remaining requests don't actually do any logic processing. A typical use-case for this is when you manually handle a transaction queue and after executing a request, use <a href="../../../com/isomorphic/rpc/RPCManager.html#queueHasFailures--"><code>RPCManager.queueHasFailures()</code></a> to check if there is a failure, you can tell the remaining queue to skip processing, giving you consistent responses for those requests that were skipped.</div> </li> </ul> <a name="findLastResponse-java.lang.String-java.lang.String-"> </a> <ul class="blockList"> <li class="blockList"> <h4>findLastResponse</h4> <pre>public&nbsp;<a href="../../../com/isomorphic/datasource/DSResponse.html" title="class in com.isomorphic.datasource">DSResponse</a>&nbsp;findLastResponse(java.lang.String&nbsp;dsName,
                                   java.lang.String&nbsp;opType)</pre> <div class="block">Returns the <a href="../../../com/isomorphic/datasource/DSResponse.html" title="class in com.isomorphic.datasource"><code>DSResponse</code></a> for the DSRequest most immediately prior to the current DSRequest, where the DataSource and operation type match the parameter values. For example:<pre>
   DSResponse resp = rpcManager.findLastResponse("customer", "update");
 </pre> would return the response to the most recent update request on the "customer" DataSource prior to the request currently being processed (ie, the first one in the queue with no response) <p> This method is just one way to access the response to a request earlier in the queue - it is a programmatic equivalent of using <code>$responseData.last()</code> in a Velocity expression. Scan the client-side documentation for "transaction chaining" for a full discussion of the various options available when using the Transaction Chaining approach.</div> <dl> <dt><span class="paramLabel">Parameters:</span></dt> <dd><code>dsName</code> - The name of the DataSource to find a response for (null means any DataSource)</dd> <dd><code>opType</code> - The operation type to find a response for (null means any operation type)</dd> <dt><span class="returnLabel">Returns:</span></dt> <dd>the DSResponse matching the search criteria</dd> </dl> </li> </ul> <a name="findFirstResponse-java.lang.String-java.lang.String-"> </a> <ul class="blockList"> <li class="blockList"> <h4>findFirstResponse</h4> <pre>public&nbsp;<a href="../../../com/isomorphic/datasource/DSResponse.html" title="class in com.isomorphic.datasource">DSResponse</a>&nbsp;findFirstResponse(java.lang.String&nbsp;dsName,
                                    java.lang.String&nbsp;opType)</pre> <div class="block">Returns the <a href="../../../com/isomorphic/datasource/DSResponse.html" title="class in com.isomorphic.datasource"><code>DSResponse</code></a> for the first DSRequest where the DataSource and operation type match the parameter values (null parameters match any DataSource / operation type). For example:<pre>
   DSResponse resp = rpcManager.findFirstResponse("customer", "update");
 </per>
 would return the response to the first update request on the "customer" DataSource.
 <p>
 <p>
 This method is just one way to access the response to a request earlier in the queue - 
 it is a programmatic equivalent of using <code>$responseData.first()</code> in a Velocity 
 expression.  Scan the client-side documentation for "transaction chaining" for a full  
 discussion of the various options available when using the Transaction Chaining approach.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dsName</code> - The name of the DataSource to find a response for (null means any DataSource)</dd>
<dd><code>opType</code> - The operation type to find a response for (null means any operation type)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the DSResponse matching the search criteria</dd>
</dl>
</li>
</ul>
<a name="processRequest-HttpServletRequest-HttpServletResponse-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processRequest</h4>
<pre>public static&nbsp;void&nbsp;processRequest(HttpServletRequest&nbsp;request,
                                  HttpServletResponse&nbsp;response)
                           throws ServletException,
                                  java.io.IOException</pre> <div class="block">Instantiates an RPCManager and processes any <a href="../../../com/isomorphic/rpc/RPCRequest.html" title="class in com.isomorphic.rpc"><code>RPCRequest</code></a> or <a href="../../../com/isomorphic/datasource/DSRequest.html" title="class in com.isomorphic.datasource"><code>DSRequest</code></a> from the provided HttpServletRequest. <P> Depending on the <a href="../../../com/isomorphic/rpc/RPCManager.html#getTransactionPolicy--"><code>transactionPolicy</code></a> specified and the settings for the underlying datasources and the incoming requests, the list of requests can end up as transaction. If this happens and one of the requests fail during execution, the RPCManager will notify underlying datasources with a <a href="../../../com/isomorphic/rpc/RPCManagerCompletionCallback.html" title="interface in com.isomorphic.rpc"><code>RPCManagerCompletionCallback</code></a> of either success or failure after all requests have been executed. The underlying <a href="../../../com/isomorphic/datasource/DataSource.html" title="class in com.isomorphic.datasource"><code>DataSource</code></a> will then either commit or rollback. The queue will not stop during mid processing because the previous request failed and will instead carry on to the end before issuing the callback. <P> If you want to be able to abort a queue from processing the rest of the requests after a failure you will have to manually implement the queue processing and use <a href="../../../com/isomorphic/rpc/RPCManager.html#queueHasFailures--"><code>RPCManager.queueHasFailures()</code></a> to determine if the next request should be processed.</div> <dl> <dt><span class="paramLabel">Parameters:</span></dt> <dd><code>request</code> - The HttpServletRequest</dd> <dd><code>response</code> - The HttpServletResponse</dd> <dt><span class="throwsLabel">Throws:</span></dt> <dd><code>ServletException</code> - As per HttpServlet.service()</dd> <dd><code>java.io.IOException</code> - As per HttpServlet.service()</dd> <dt><span class="seeLabel">See Also:</span></dt> <dd><a href="../../../com/isomorphic/rpc/RPCManager.html" title="class in com.isomorphic.rpc"><code>RPCManager for special notes on queueing.</code></a></dd> </dl> </li> </ul> <a name="getDataSource-java.lang.String-"> </a> <ul class="blockList"> <li class="blockList"> <h4>getDataSource</h4> <pre>public&nbsp;<a href="../../../com/isomorphic/datasource/DataSource.html" title="class in com.isomorphic.datasource">DataSource</a>&nbsp;getDataSource(java.lang.String&nbsp;dsName)
                         throws java.lang.Exception</pre> <div class="block">Returns an instance of the DataSource named in the "dsName" parameter. This method borrows an object from the framework's DataSource pool, and ensures that it is freed at the end of the request cycle. It is the recommended way to obtain an arbitrary DataSource object in your own server-side code. Note that this method is intended for use if you need to obtain some arbitrary DataSource. If what you want is the DataSource associated with the current DSRequest (a common use case), use <a href="../../../com/isomorphic/datasource/DSRequest.html#getDataSource--"><code>DSRequest.getDataSource()</code></a> instead. Also, if you are trying to access some arbitrary DataSource purely because you need to run a DSRequest on it (another very common use case), consider just creating the DSRequest instead, using one of the constructors that accepts a DataSource name.</div> <dl> <dt><span class="paramLabel">Parameters:</span></dt> <dd><code>dsName</code> - The name of the DataSource to return</dd> <dt><span class="throwsLabel">Throws:</span></dt> <dd><code>java.lang.Exception</code></dd> <dt><span class="seeLabel">See Also:</span></dt> <dd><a href="../../../com/isomorphic/datasource/DSRequest.html#getDataSource--"><code>DSRequest.getDataSource()</code></a>, <a href="../../../com/isomorphic/datasource/DSRequest.html#DSRequest-java.lang.String-java.lang.String-com.isomorphic.rpc.RPCManager-"><code>DSRequest(String, String, RPCManager)</code></a></dd> </dl> </li> </ul> <a name="setUserId-java.lang.String-"> </a> <ul class="blockList"> <li class="blockList"> <h4>setUserId</h4> <pre>public&nbsp;void&nbsp;setUserId(java.lang.String&nbsp;userId)</pre> <div class="block">Set the user ID associated with the queue of requests being managed by this RPCManager. This value will be used by the framework to populate fields of types "creator" and "modifier". This API is intended for use when you are a using some custom authentication scheme - it is unnecessary if you are using the Servlet API for authentication, because we will default to using the value returned by <code>HttpServletRequest.getRemoteUser()</code>. <P> Calling this API automatically sets the authentication status of the RPCManager. If you pass a non-null value, the authentication status is set to true. If you pass null, the authentication status is also set to null.</div> <dl> <dt><span class="paramLabel">Parameters:</span></dt> <dd><code>userId</code> - The user ID to associate with the queue of requests being managed by this RPCManager</dd> <dt><span class="seeLabel">See Also:</span></dt> <dd><a href="../../../com/isomorphic/rpc/RPCManager.html#getUserId--"><code>RPCManager.getUserId()</code></a>, <a href="../../../com/isomorphic/rpc/RPCManager.html#setAuthenticated-boolean-"><code>RPCManager.setAuthenticated(boolean)</code></a></dd> </dl> </li> </ul> <a name="getUserId--"> </a> <ul class="blockList"> <li class="blockList"> <h4>getUserId</h4> <pre>public&nbsp;java.lang.String&nbsp;getUserId()</pre> <div class="block">Returns the user ID associated with the queue of requests being managed by this RPCManager. This value can be set by the <a href="../../../com/isomorphic/rpc/RPCManager.html#setUserId-java.lang.String-"><code>RPCManager.setUserId(String)</code></a>; if that method has not been called and we are running in the context of the servlet API, we call the servlet API's <code>getRemoteUser()</code> method.</div> <dl> <dt><span class="returnLabel">Returns:</span></dt> <dd>The user ID associated with the queue of requests being managed by this RPCManager, or null if there is no authenticated user</dd> <dt><span class="seeLabel">See Also:</span></dt> <dd><a href="../../../com/isomorphic/rpc/RPCManager.html#setUserId-java.lang.String-"><code>RPCManager.setUserId(String)</code></a></dd> </dl> </li> </ul> <a name="setTenantId-java.lang.String-"> </a> <ul class="blockList"> <li class="blockList"> <h4>setTenantId</h4> <pre>public&nbsp;<a href="../../../com/isomorphic/rpc/RPCManager.html" title="class in com.isomorphic.rpc">RPCManager</a>&nbsp;setTenantId(java.lang.String&nbsp;tenantId)</pre> <div class="block">Set the tenant ID to associate with the queue of requests being managed by this RPCManager. Can be set in an override of <a href="../../../com/isomorphic/servlet/IDACall.html#prepareRPCTransaction-com.isomorphic.rpc.RPCManager-com.isomorphic.servlet.RequestContext-"><code>IDACall.prepareRPCTransaction()</code></a>. <P> See the client-side <a href="https://smartclient.com/smartclient-latest/isomorphic/system/reference/?id=group..multiTenancy"> Multi-Tenacy documentation</a> for major concepts and how to implement authorization.</div> <dl> <dt><span class="returnLabel">Returns:</span></dt> <dd>the RPC manager</dd> <dt><span class="seeLabel">See Also:</span></dt> <dd><a href="../../../com/isomorphic/datasource/DSTransaction.html#setTenantId-java.lang.String-"><code>DSTransaction.setTenantId(java.lang.String)</code></a></dd> </dl> </li> </ul> <a name="getTenantId--"> </a> <ul class="blockList"> <li class="blockList"> <h4>getTenantId</h4> <pre>public&nbsp;java.lang.String&nbsp;getTenantId()</pre> <div class="block">Returns the tenant ID associated with the queue of requests being managed by this RPCManager.</div> <dl> <dt><span class="seeLabel">See Also:</span></dt> <dd><a href="../../../com/isomorphic/datasource/DSTransaction.html#getTenantId--"><code>DSTransaction.getTenantId()</code></a></dd> </dl> </li> </ul> <a name="hasTenantId--"> </a> <ul class="blockList"> <li class="blockList"> <h4>hasTenantId</h4> <pre>public&nbsp;boolean&nbsp;hasTenantId()</pre> <div class="block">Returns whether a tenant ID has been associated with the queue of requests being managed by this RPCManager.</div> <dl> <dt><span class="returnLabel">Returns:</span></dt> <dd>Whether a tenant ID has been associated with the queue of requests being managed by this RPCManager</dd> <dt><span class="seeLabel">See Also:</span></dt> <dd><a href="../../../com/isomorphic/rpc/RPCManager.html#setTenantId-java.lang.String-"><code>RPCManager.setTenantId(java.lang.String)</code></a></dd> </dl> </li> </ul> <a name="getAuthenticated--"> </a> <ul class="blockList"> <li class="blockList"> <h4>getAuthenticated</h4> <pre>public&nbsp;java.lang.Boolean&nbsp;getAuthenticated()</pre> <div class="block">Returns true if we have an authenticated user for this request. Please see the client-side documentation for DataSource.requiresAuthentication/ for details of how the authentication system works</div> <dl> <dt><span class="returnLabel">Returns:</span></dt> <dd>true if we have an authenticated user, otherwise false</dd> <dt><span class="seeLabel">See Also:</span></dt> <dd><a href="../../../com/isomorphic/rpc/RPCManager.html#setAuthenticated-boolean-"><code>RPCManager.setAuthenticated(boolean)</code></a></dd> </dl> </li> </ul> <a name="setAuthenticated-boolean-"> </a> <ul class="blockList"> <li class="blockList"> <h4>setAuthenticated</h4> <pre>public&nbsp;void&nbsp;setAuthenticated(boolean&nbsp;authenticated)</pre> <div class="block">Pass true to this method to indicate that every request in the queue is associated with an authenticated user. You will need to do this if you wish to implement an authentication that is not based on the scheme built in to the servlet API. Please see the client-side documentation for DataSource.requiresAuthentication for details of how the authentication system works</div> <dl> <dt><span class="paramLabel">Parameters:</span></dt> <dd><code>authenticated</code> - if true we have an authenticated user</dd> <dt><span class="seeLabel">See Also:</span></dt> <dd><a href="../../../com/isomorphic/rpc/RPCManager.html#getAuthenticated--"><code>RPCManager.getAuthenticated()</code></a>, <a href="../../../com/isomorphic/rpc/RPCManager.html#setUserRoles-java.lang.String-"><code>RPCManager.setUserRoles(java.lang.String)</code></a></dd> </dl> </li> </ul> <a name="getUserRoles--"> </a> <ul class="blockList"> <li class="blockList"> <h4>getUserRoles</h4> <pre>public&nbsp;java.util.List&nbsp;getUserRoles()</pre> <div class="block">Returns a list of the roles associated with the user who is authenticated for this request. Note that this list must be manually populated by calling setUserRoles(); it is an alternative mechanism, in case you wish to implement a role-based security system other than the one built into the servlet API. Please see the client-side documentation for OperationBinding.requiresRole for details of how the authentication/security system works</div> <dl> <dt><span class="returnLabel">Returns:</span></dt> <dd>The list of roles associated with the currently authenticated user, or null if no such list has been set up</dd> <dt><span class="seeLabel">See Also:</span></dt> <dd><a href="../../../com/isomorphic/rpc/RPCManager.html#getAuthenticated--"><code>RPCManager.getAuthenticated()</code></a>, <a href="../../../com/isomorphic/rpc/RPCManager.html#setUserRoles-java.lang.String-"><code>RPCManager.setUserRoles(java.lang.String)</code></a></dd> </dl> </li> </ul> <a name="setUserRoles-java.lang.String-"> </a> <ul class="blockList"> <li class="blockList"> <h4>setUserRoles</h4> <pre>public&nbsp;void&nbsp;setUserRoles(java.lang.String&nbsp;rolesString)</pre> <div class="block">Accepts a comma-separated String representing the list of roles associated with the user who is authenticated for this request. This method allows you to implement a role-based security system other than the one built in to the servlet API. Please see the client-side documentation for OperationBinding.requiresRole for details of how the authentication/security system works</div> <dl> <dt><span class="paramLabel">Parameters:</span></dt> <dd><code>rolesString</code> - A comma-separated String representing the list of roles associated with the user who is authenticated for this reques</dd> <dt><span class="seeLabel">See Also:</span></dt> <dd><a href="../../../com/isomorphic/rpc/RPCManager.html#setAuthenticated-boolean-"><code>RPCManager.setAuthenticated(boolean)</code></a>, <a href="../../../com/isomorphic/rpc/RPCManager.html#getUserRoles--"><code>RPCManager.getUserRoles()</code></a></dd> </dl> </li> </ul> <a name="setUserRoles-java.lang.String:A-"> </a> <ul class="blockList"> <li class="blockList"> <h4>setUserRoles</h4> <pre>public&nbsp;void&nbsp;setUserRoles(java.lang.String[]&nbsp;roles)</pre> <div class="block">Accepts a List of roles associated with the user who is authenticated for this request. This method allows you to implement a role-based security system other than the one built in to the servlet API. Please see the client-side documentation for OperationBinding.requiresRole for details of how the authentication/security system works</div> <dl> <dt><span class="paramLabel">Parameters:</span></dt> <dd><code>roles</code> - The list of roles associated with the authenticated user</dd> <dt><span class="seeLabel">See Also:</span></dt> <dd><a href="../../../com/isomorphic/rpc/RPCManager.html#setAuthenticated-boolean-"><code>RPCManager.setAuthenticated(boolean)</code></a>, <a href="../../../com/isomorphic/rpc/RPCManager.html#getUserRoles--"><code>RPCManager.getUserRoles()</code></a></dd> </dl> </li> </ul> <a name="setUserRoles-java.util.List-"> </a> <ul class="blockList"> <li class="blockList"> <h4>setUserRoles</h4> <pre>public&nbsp;void&nbsp;setUserRoles(java.util.List&nbsp;rolesList)</pre> <div class="block">Accepts a List of roles associated with the user who is authenticated for this request. This method allows you to implement a role-based security system other than the one built in to the servlet API. Please see the client-side documentation for OperationBinding.requiresRole for details of how the authentication/security system works</div> <dl> <dt><span class="paramLabel">Parameters:</span></dt> <dd><code>rolesList</code> - The list of roles associated with the authenticated user</dd> <dt><span class="seeLabel">See Also:</span></dt> <dd><a href="../../../com/isomorphic/rpc/RPCManager.html#setAuthenticated-boolean-"><code>RPCManager.setAuthenticated(boolean)</code></a>, <a href="../../../com/isomorphic/rpc/RPCManager.html#getUserRoles--"><code>RPCManager.getUserRoles()</code></a></dd> </dl> </li> </ul> <a name="getAttribute-java.lang.String-"> </a> <ul class="blockList"> <li class="blockList"> <h4>getAttribute</h4> <pre>public&nbsp;java.lang.Object&nbsp;getAttribute(java.lang.String&nbsp;key)</pre> <div class="block">Returns an Object that has previously been stored in this RPCManager's attribute map. This method intentionally mirrors the method of the same name available on HttpServletRequest, and is provided as an alternstive way to add objects to an RPCManager without introducing a dependency on the Servlet API.</div> <dl> <dt><span class="paramLabel">Parameters:</span></dt> <dd><code>key</code> - The key of the object in the DSRequest's attribute map</dd> <dt><span class="seeLabel">See Also:</span></dt> <dd><a href="../../../com/isomorphic/datasource/DSRequest.html#getAttribute-java.lang.String-"><code>DSRequest.getAttribute(java.lang.String)</code></a></dd> </dl> </li> </ul> <a name="setAttribute-java.lang.String-java.lang.Object-"> </a> <ul class="blockList"> <li class="blockList"> <h4>setAttribute</h4> <pre>public&nbsp;void&nbsp;setAttribute(java.lang.String&nbsp;key,
                         java.lang.Object&nbsp;value)</pre> <div class="block">Stores an object in this RPCManager's attribute map, associated with the passed key. This method intentionally mirrors the method of the same name available on HttpServletRequest, and is provided as an alternstive way to add objects to an RPCManager without introducing a dependency on the Servlet API.</div> <dl> <dt><span class="paramLabel">Parameters:</span></dt> <dd><code>key</code> - The key of the object in the DSRequest's attribute map</dd> <dd><code>value</code> - The object to store</dd> <dt><span class="seeLabel">See Also:</span></dt> <dd><a href="../../../com/isomorphic/datasource/DSRequest.html#setAttribute-java.lang.String-java.lang.Object-"><code>DSRequest.setAttribute(java.lang.String, java.lang.Object)</code></a></dd> </dl> </li> </ul> <a name="removeAttribute-java.lang.String-"> </a> <ul class="blockList"> <li class="blockList"> <h4>removeAttribute</h4> <pre>public&nbsp;void&nbsp;removeAttribute(java.lang.String&nbsp;key)</pre> <div class="block">Removes an Object that has previously been stored in this RPCManager's attribute map. This method intentionally mirrors the method of the same name available on HttpServletRequest. It is provided as an alternstive, to avoid introducing a dependency on the Servlet API.</div> <dl> <dt><span class="paramLabel">Parameters:</span></dt> <dd><code>key</code> - The key of the object in the DSRequest's attribute map</dd> <dt><span class="seeLabel">See Also:</span></dt> <dd><a href="../../../com/isomorphic/datasource/DSRequest.html#removeAttribute-java.lang.String-"><code>DSRequest.removeAttribute(java.lang.String)</code></a></dd> </dl> </li> </ul> <a name="registerCallback-com.isomorphic.rpc.RPCManagerCompletionCallback-"> </a> <ul class="blockList"> <li class="blockList"> <h4>registerCallback</h4> <pre>public&nbsp;void&nbsp;registerCallback(<a href="../../../com/isomorphic/rpc/RPCManagerCompletionCallback.html" title="interface in com.isomorphic.rpc">RPCManagerCompletionCallback</a>&nbsp;callback)</pre> <div class="block">Register an implementation of <a href="../../../com/isomorphic/rpc/RPCManagerCompletionCallback.html" title="interface in com.isomorphic.rpc"><code>RPCManagerCompletionCallback</code></a> with this RPCManager. The callback object will have its onSuccess() or onFailure() method called when every request in the RPCManager's queue has completed. Note that the RPCManager is only considered successful - and hence onSuccess() will be called - if every request in the queue is successful; if any one fails, onFailure() will be called.</div> <dl> <dt><span class="paramLabel">Parameters:</span></dt> <dd><code>callback</code> - An instance of <a href="../../../com/isomorphic/rpc/RPCManagerCompletionCallback.html" title="interface in com.isomorphic.rpc"><code>RPCManagerCompletionCallback</code></a></dd> </dl> </li> </ul> <a name="getTransactionPolicy--"> </a> <ul class="blockList"> <li class="blockList"> <h4>getTransactionPolicy</h4> <pre>public&nbsp;int&nbsp;getTransactionPolicy()</pre> <div class="block">Returns this RPCManager's transaction policy. The transaction policy is in force for the entire lifecycle of the queue being managed by the RPCManager; it cannot be changed once queue processing has started. Transaction policy is one of the following <a href="../../../com/isomorphic/datasource/TransactionPolicy.html" title="class in com.isomorphic.datasource"><code>TransactionPolicy</code></a> constants: <ul> <li>NOT_SET: No special TransactionPolicy is in force; the system will fall back to settings in <code>server.properties</code>, as described in the client-side documentation. This is the default for RPCManager instances.</li> <li>ANY_CHANGE: Bundle all requests into a transaction, including leading fetches, if there is any change operation in the queue. Since ANY_CHANGE is the default <code>.properties</code> setting, this is effectively the default behavior of an RPCManager where transaction policy has not been set.</li> <li>FROM_FIRST_CHANGE: Start a transaction on the first request in the queue that potentially changes data (in other words, don't include leading fetches in the transaction).</li> <li>ALL: Bundle all requests into a transaction unconditionally.</li> <li>NONE: Switch off transactions for this RPCManager; each request that does not have a DataSource- or OperationBinding-level override to the contrary will be committed independently</li> </ul> <p> <i>Change</i> operation in listing above is <i>add</i>, <i>update</i> or <i>remove</i> operation. Note that <i>custom</i> operation is not considered a change operation as far as whether a transaction is started. <p> The default <code>.properties</code> setting is ANY_CHANGE.</div> <dl> <dt><span class="returnLabel">Returns:</span></dt> <dd>This RPCManager's transaction policy</dd> </dl> </li> </ul> <a name="setTransactionPolicy-int-"> </a> <ul class="blockList"> <li class="blockList"> <h4>setTransactionPolicy</h4> <pre>public&nbsp;void&nbsp;setTransactionPolicy(int&nbsp;tp)
                          throws <a href="../../../com/isomorphic/rpc/QueueAlreadyStartedException.html" title="class in com.isomorphic.rpc">QueueAlreadyStartedException</a></pre> <div class="block">Set this RPCManager's transaction policy. The transaction policy is in force for the entire lifecycle of the queue being managed by the RPCManager; it cannot be changed once queue processing has started. Therefore, this method will fail with an exception if you call it after the first request in its queue has started processing. <p> When you change transaction policy, you effectively override the global setting for autoJoinTransactions, for this request queue only. However, autoJoinTransactions settings specified at the DataSource or OperationBinding level will still be honored. If you need to override these finer-grained settings, you can do so with DSRequest method <a href="../../../com/isomorphic/datasource/DSRequest.html#setJoinTransaction-java.lang.Boolean-"><code>setJoinTransaction</code></a>. For details of configuring autoJoinTransactions, scan the client documentation for that phrase. <p> Transaction policy is one of the following <a href="../../../com/isomorphic/datasource/TransactionPolicy.html" title="class in com.isomorphic.datasource"><code>TransactionPolicy</code></a> constants: <ul> <li>NOT_SET: No special TransactionPolicy is in force; the system will fall back to settings in <code>server.properties</code>, as described in the client-side documentation. This is the default for RPCManager instances.</li> <li>ANY_CHANGE: Bundle all requests into a transaction, including leading fetches, if there is any change operation in the queue. Since ANY_CHANGE is the default <code>.properties</code> setting, this is effectively the default behavior of an RPCManager where transaction policy has not been set.</li> <li>FROM_FIRST_CHANGE: Start a transaction on the first request in the queue that potentially changes data (in other words, don't include leading fetches in the transaction).</li> <li>ALL: Bundle all requests into a transaction unconditionally.</li> <li>NONE: Switch off transactions for this RPCManager; each request that does not have a DataSource- or OperationBinding-level override to the contrary will be committed independently</li> </ul> <p> <i>Change</i> operation in listing above is <i>add</i>, <i>update</i> or <i>remove</i> operation. Note that <i>custom</i> operation is not considered a change operation as far as whether a transaction is started. <p> Note that you can also use transactions without an RPCManager or HttpServletRequest - see <a href="../../../com/isomorphic/datasource/DSTransaction.html" title="class in com.isomorphic.datasource"><code>DSTransaction</code></a>.</div> <dl> <dt><span class="throwsLabel">Throws:</span></dt> <dd><code><a href="../../../com/isomorphic/rpc/QueueAlreadyStartedException.html" title="class in com.isomorphic.rpc">QueueAlreadyStartedException</a></code> - if the queue has already started processing</dd> </dl> </li> </ul> <a name="startSQLTransaction-com.isomorphic.datasource.DSRequest-"> </a> <ul class="blockListLast"> <li class="blockList"> <h4>startSQLTransaction</h4> <pre>public&nbsp;java.sql.Connection&nbsp;startSQLTransaction(<a href="../../../com/isomorphic/datasource/DSRequest.html" title="class in com.isomorphic.datasource">DSRequest</a>&nbsp;dsReq)
                                        throws java.lang.Exception</pre> <div class="block">Starts the SQL transaction that will be used for all SQL DSRequests belonging to this RPCManager. Call this method to be handed a <code>Connection</code> that you can use for your own, non-DSRequest operations and have them participate in the same SQL transaction as the queue of DSRequests. <p> Note that you are not required to call this method; the SQL subsystem will automatically start a transaction if necessary, in accordance with the <a href="../../../com/isomorphic/rpc/RPCManager.html#getTransactionPolicy--"><code>transaction policy</code></a> in force). Only call this method if you want to insert extra SQL operations into the transaction (using a custom DataSource implementation, DMI method or server scriptlet) before the first DSRequest operation. <p> Also note that you are not required to close, commit or release the connection. Again, the framework will automatically do this as required. For this reason, do not attempt to cache the connection object and reuse it elsewhere.</div> <dl> <dt><span class="returnLabel">Returns:</span></dt> <dd>The Connection to be used for the RPCManager's SQL transaction</dd> <dt><span class="throwsLabel">Throws:</span></dt> <dd><code>java.lang.Exception</code></dd> </dl> </li> </ul> </li> </ul> </li> </ul> </div> </div> <div class="bottomNav"><a name="navbar.bottom"> </a> <div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div> <a name="navbar.bottom.firstrow"> </a> <ul class="navList" title="Navigation"> <li><a href="../../../overview-summary.html">Overview</a></li> <li><a href="package-summary.html">Package</a></li> <li class="navBarCell1Rev">Class</li> <li><a href="package-tree.html">Tree</a></li> <li><a href="../../../deprecated-list.html">Deprecated</a></li> <li><a href="../../../index-all.html">Index</a></li> <li><a href="../../../help-doc.html">Help</a></li> </ul> </div> <div class="subNav"> <ul class="navList"> <li><a href="../../../com/isomorphic/rpc/QueueAlreadyStartedException.html" title="class in com.isomorphic.rpc"><span class="typeNameLink">Prev&nbsp;Class</span></a></li> <li><a href="../../../com/isomorphic/rpc/RPCManagerCompletionCallback.html" title="interface in com.isomorphic.rpc"><span class="typeNameLink">Next&nbsp;Class</span></a></li> </ul> <ul class="navList"> <li><a href="../../../index.html?com/isomorphic/rpc/RPCManager.html" target="_top">Frames</a></li> <li><a href="RPCManager.html" target="_top">No&nbsp;Frames</a></li> </ul> <ul class="navList" id="allclasses_navbar_bottom"> <li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li> </ul> <div> <script type="text/javascript">allClassesLink=document.getElementById("allclasses_navbar_bottom");if(window==top){allClassesLink.style.display="block"}else{allClassesLink.style.display="none"};</script> </div> <div> <ul class="subNavList"> <li>Summary:&nbsp;</li> <li>Nested&nbsp;|&nbsp;</li> <li>Field&nbsp;|&nbsp;</li> <li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li> <li><a href="#method.summary">Method</a></li> </ul> <ul class="subNavList"> <li>Detail:&nbsp;</li> <li>Field&nbsp;|&nbsp;</li> <li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li> <li><a href="#method.detail">Method</a></li> </ul> </div> <a name="skip.navbar.bottom"> </a></div> </body> </html>